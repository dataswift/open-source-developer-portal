<!DOCTYPE html><html class=no-js><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>Step 1: White label onboarding | Dwolla API</title><meta name=description content=""><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=/css/main.b842.css><link rel=stylesheet href="//fonts.googleapis.com/css?family=Roboto+Slab:300|Open+Sans:300,400,600,700"><script src=/js/head-scripts.3bcb.js></script><script src=https://cdn.statuspage.io/se-v2.js></script></head><body><!--[if lt IE 8]>
        <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]--><header><div class="header__primary js-two-col-header-primary"><div class=page-wrap><div><a href=https://www.dwolla.com class="logo icon-logo-dwolla-white">Dwolla</a><div class=hamburger><a href="https://www.dwolla.com/contact?b=nav">Let's talk</a> <a class="btn primary js-hamburger">Menu</a></div></div><nav class=js-hamburger-nav><a href=https://www.dwolla.com/about>Product</a> <a href="/">Documentation</a> <a href=https://www.dwolla.com/login>Log in</a> <a href=https://www.dwolla.com/register>Sign up</a> <a class="btn primary" href="https://www.dwolla.com/contact?b=nav">Let's talk</a></nav></div></div><nav class="header__secondary js-two-col-nav-toggle"><div class=js-two-col-header-secondary><div class=page-wrap><a href="/guides/" class=active>Guides</a> <a href="/resources/">Resources</a> <a href="https://docsv2.dwolla.com/">API docs</a> <a href=/pages/sdks.html class="no-nav js-two-col-no-toggle">SDKs</a><div class="custom-select custom-select--blue js-global-language-select"><select name=select class=js-language-select><option value=raw>raw</option><option value=php>php</option><option value=ruby>ruby</option><option value=python>python</option><option value=javascript>javascript</option></select><div class=arrow></div></div></div></div></nav></header><div class=content><div class=cnt-two-col><div class=page-wrap><section class="cnt-two-col__nav js-two-col-nav"><div class=close><button class="js-two-col-nav-close icon-cnt-two-col-close"></button></div><div class=language-picker><h6>Language</h6><div class="custom-select custom-select--blue"><select class=js-language-select name=select><option value=raw>raw</option><option value=php selected>php</option><option value=ruby>ruby</option><option value=python>python</option><option value=javascript>javascript</option></select><div class=arrow></div></div></div><!-- nav elements below should be in the same order of the secondary navigation --><nav class="side-nav js-side-nav active"><section id=js-sidenav-dropdown class=side-nav__dropdown><h6>Choose a guide</h6><div class=picker id=js-sidenav-dropdown-button><button>Send money to your users</button><div class="icon icon-side-nav-collapse-plus"></div><div class="icon icon-side-nav-collapse-minus"></div></div><nav id=js-sidenav-dropdown-nav><a href="/guides/sandbox-setup/">Set up Sandbox</a> <a href="/guides/receive-money/">Receive money from your users</a> <a href="/guides/transfer-money-between-users/">Transfer money between users</a> <a href="/guides/webhooks/">Webhooks</a> <a href="/guides/migrate-to-v2/">Migrate to v2</a></nav></section><section class=steps-nav><h6>Follow the steps</h6><ol><li><a href=/guides/send-money>Overview: Send money to your users</a><div class=dot></div><ol><li><a href=/guides/send-money/01-white-label-onboarding.html class=active>Option 1: White label</a><div class=dot></div></li><li><a href=/guides/send-money/01-direct-onboarding.html>Option 2: Dwolla Direct</a><div class=dot></div></li></ol></li><li><a href=/guides/send-money/02-fetch-funding-sources.html>Fetch funding sources</a><div class=dot></div></li><li><a href=/guides/send-money/03-create-transfer.html>Create a transfer</a><div class=dot></div></li><li><a href=/guides/send-money/04-check-transfer.html>Check transfer status</a><div class=dot></div></li></ol></section><!-- <section class="side-nav__options" >
    <h6>Options</h6>
    <ul>
        <li class="external-link"><a href="https://developers.dwolla.com/dev/pages/guides/masspay" target="_blank"><span class="icon-sidenav-option">MassPay V1</span></a></li>
        <li class="external-link"><a href=""><span class="icon-sidenav-option">Recurring and Scheduled V1</span></a></li>
    </ul>
</section> --><section class=steps-nav style=display:none><h6>Follow the steps</h6><ol><li><a href=/guides/receive-money>Overview</a><div class=dot></div><ol><li><a href=/guides/receive-money/01-white-label-onboarding.html class=active>Option 1: White label</a><div class=dot></div></li><li><a href=/guides/receive-money/01-direct-onboarding.html>Option 2: Dwolla Direct</a><div class=dot></div></li></ol></li><li><a href=/guides/receive-money/02-check-transfer.html>Check transfer status</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>Follow the steps</h6><ol><li><a href=/guides/sandbox-setup>Overview: Sandbox setup</a><div class=dot></div></li><li><a href=/guides/sandbox-setup/01-create-sandbox-account.html>Create a Sandbox account</a><div class=dot></div></li><li><a href=/guides/sandbox-setup/02-create-application.html>Create an application</a><div class=dot></div></li><li><a href=/guides/sandbox-setup/03-enable-sdk-sandbox-mode.html>Enable Sandbox mode</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>Follow the steps</h6><ol><li><a href=/guides/webhooks>Overview: Webhooks</a><div class=dot></div></li><li><a href=/guides/webhooks/01-obtain-authorization.html>Obtain authorization</a><div class=dot></div></li><li><a href=/guides/webhooks/02-create-subscription.html>Create a webhook subscription</a><div class=dot></div></li><li><a href=/guides/webhooks/03-validating-webhooks.html>Validating webhooks</a><div class=dot></div></li><li><a href=/guides/webhooks/04-process-webhooks.html>Processing webhooks</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>Follow the steps</h6><ol><li><a href=/guides/transfer-money-between-users>Overview: transfer money between your users</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/01-access-token.html>Generate an access token</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/02-create-verified-customer.html>Create a verified customer</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/03-attach-unverified-bank.html>Attach an unverified funding source</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/04-create-unverified-customer.html>Create an unverified Customer</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/05-attach-verified-bank.html>Attach a verified funding source</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/06-create-transfer.html>Create a transfer</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/07-check-transfer.html>Check the status of your transfer</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>Follow the steps</h6><ol><li><a href=/guides/migrate-to-v2>Overview: Migrate to v2</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/01-api-v2-principles.html>API v2 principles</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/02-making-requests.html>Making requests</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/03-authentication.html>Authentication</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/04-sdk-support.html>SDK support</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/05-v1-to-v2-endpoint-changes.html>v1 to v2 endpoint changes</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/06-other-notable-changes.html>Other notable changes</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/07-faq.html>FAQ</a><div class=dot></div></li></ol></section></nav><nav class="side-nav js-side-nav"><section><h6>Tools</h6><ul><li><a href=/resources/sandbox-console.html>Sandbox Console</a></li><li class=external-link><a href=https://tokengenerator.dwolla.com target=_blank><span class=icon-sidenav-option>Token generator</span></a></li><li><a href=/resources/changelog.html>Change log</a></li><li class=external-link><a href="http://status.dwolla.com/" target=_blank><span class=icon-sidenav-option>Status</span></a></li></ul><h6>Articles</h6><ul><li><a href=/resources/account-types.html>Account types</a><ul><li><a href=/resources/account-types/traditional-accounts.html>Traditional accounts</a></li><li><a href=/resources/account-types/white-label-accounts.html>White Label accounts</a></li></ul></li><li><a href=/resources/bank-transfer-workflow.html>Bank transfer workflow</a><ul><li><a href=/resources/bank-transfer-workflow/processing-times.html>Processing times</a></li><li><a href=/resources/bank-transfer-workflow/transfer-failures.html>Transfer failures</a></li></ul></li><li><a href=/resources/customer-verification.html>Customer verification</a><ul><li><a href=/resources/customer-verification/personal-verified-customers.html>Personal verified Customers</a></li><li><a href=/resources/customer-verification/business-verified-customers.html>Business verified Customers</a></li><li><a href=/resources/customer-verification/handling-verification-statuses.html>Handling verification statuses</a></li></ul></li><li><a href=/resources/dwolla-js.html>Dwolla.js</a><ul><li><a href=/resources/dwolla-js/add-a-bank-account.html>Add a bank account</a></li><li><a href=/resources/dwolla-js/instant-account-verification.html>Instant account verification</a></li><li><a href=/resources/dwolla-js/on-demand-bank-transfers.html>On-demand bank transfers</a></li></ul></li><li><a href=/resources/facilitator-fee.html>Facilitator Fee</a><ul></ul></li><li><a href=/resources/funding-source-verification.html>Funding source verification</a><ul><li><a href=/resources/funding-source-verification/micro-deposit-verification.html>Micro-deposit verification</a></li><li><a href=/resources/funding-source-verification/instant-account-verification.html>Instant account verification</a></li></ul></li><li><a href=/resources/oauth-refresh-strategies.html>OAuth refresh strategies</a><ul><li><a href=/resources/oauth-refresh-strategies/preemptively-refresh.html>Preemptively refresh authorization</a></li><li><a href=/resources/oauth-refresh-strategies/refresh-on-demand.html>Refresh on-demand</a></li><li><a href=/resources/oauth-refresh-strategies/refresh-best-practices.html>Refresh best practices</a></li></ul></li></ul></section></nav><nav class="side-nav js-side-nav"><section id=js-sidenav-dropdown class=side-nav__dropdown><ul><li><a href=https://docsv2.dwolla.com/#introduction>Introduction</a></li><li><a href=https://docsv2.dwolla.com/#oauth>OAuth</a></li><li><a href=https://docsv2.dwolla.com/#customers>Customers</a></li><li><a href=https://docsv2.dwolla.com/#documents>Documents</a></li><li><a href=https://docsv2.dwolla.com/#sources>Funding Sources</a></li><li><a href=https://docsv2.dwolla.com/#transfers>Transfers</a></li><li><a href=https://docsv2.dwolla.com/#events>Events</a></li><li><a href=https://docsv2.dwolla.com/#subscriptions>Webhook Subscriptions</a></li><li><a href=https://docsv2.dwolla.com/#webhooks>Webhooks</a></li></ul></section></nav></section><section class=cnt-two-col__content><h1>Step 1: Create recipients using white label solution</h1><p>In this experience, end users create their accounts entirely within your application and you prompt for their bank or credit union account information. Dwolla will securely store this sensitive information.</p><h3>Step A. Generate an OAuth account access token</h3><p>Navigate to the <a href=https://uat.dwolla.com/applications target=_blank>applications page</a> to generate an account access token.</p><p>Before selecting the &ldquo;Create token&rdquo; button, make sure your created application has the following scopes enabled: <code>Send</code>, <code>Funding</code>, <code>Transactions</code>, and <code>ManageCustomers</code>. Once you select the Create token button, you&rsquo;ll receive an access and refresh token pair that contains the proper scopes for creating and managing Customers. More detail for implementing the OAuth flow can be found in <a href=https://docsv2.dwolla.com/#oauth>API docs</a>.</p><h3>Step B. Create a Customer</h3><p>Create a Customer for each user you’d like to transfer funds to. At a minimum, provide the user’s full name, email address, and IP address to create the Customer. More detail is available in <a href=https://docsv2.dwolla.com/#create-a-customer>API docs</a>.</p><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-raw data-lang=raw>POST https://api-uat.dwolla.com/customers
Content-Type: application/vnd.dwolla.v1.hal+json
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer 0Sn0W6kzNicvoWhDbQcVSKLRUpGjIdlPSEYyrHqrDDoRnQwE7Q
{
  "firstName": "Jane",
  "lastName": "Merchant",
  "email": "jmerchant@nomail.net",
  "ipAddress": "99.99.99.99"
}

HTTP/1.1 201 Created
Location: https://api-uat.dwolla.com/customers/c7f300c0-f1ef-4151-9bbe-005005aa3747
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-ruby data-lang=ruby><span class=n>request_body</span> <span class=o>=</span> <span class=p>{</span>
  <span class=ss>:firstName</span> <span class=o>=&gt;</span> <span class=s1>'Jane'</span><span class=p>,</span>
  <span class=ss>:lastName</span> <span class=o>=&gt;</span> <span class=s1>'Merchant'</span><span class=p>,</span>
  <span class=ss>:email</span> <span class=o>=&gt;</span> <span class=s1>'jmerchant@nomail.net'</span><span class=p>,</span>
  <span class=ss>:ipAddress</span> <span class=o>=&gt;</span> <span class=s1>'99.99.99.99'</span>
<span class=p>}</span>

<span class=c1># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class=n>customer</span> <span class=o>=</span> <span class=n>account_token</span><span class=p>.</span><span class=nf>post</span> <span class=s2>"customers"</span><span class=p>,</span> <span class=n>request_body</span>
<span class=n>customer</span><span class=p>.</span><span class=nf>headers</span><span class=p>[</span><span class=ss>:location</span><span class=p>]</span> <span class=c1># =&gt; "https://api-uat.dwolla.com/customers/c7f300c0-f1ef-4151-9bbe-005005aa3747"</span>

<span class=c1># Using DwollaSwagger - https://github.com/Dwolla/dwolla-swagger-ruby</span>
<span class=n>customer</span> <span class=o>=</span> <span class=no>DwollaSwagger</span><span class=o>::</span><span class=no>CustomersApi</span><span class=p>.</span><span class=nf>create</span><span class=p>(</span><span class=ss>:body</span> <span class=o>=&gt;</span> <span class=n>request_body</span><span class=p>)</span>
<span class=n>customer</span> <span class=c1># =&gt; "https://api-uat.dwolla.com/customers/c7f300c0-f1ef-4151-9bbe-005005aa3747"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-javascript data-lang=javascript><span class=kd>var</span> <span class=nx>requestBody</span> <span class=o>=</span> <span class=p>{</span>
  <span class=na>firstName</span><span class=p>:</span> <span class=s1>'Jane'</span><span class=p>,</span>
  <span class=na>lastName</span><span class=p>:</span> <span class=s1>'Merchant'</span><span class=p>,</span>
  <span class=na>email</span><span class=p>:</span> <span class=s1>'jmerchant@nomail.net'</span><span class=p>,</span>
  <span class=na>ipAddress</span><span class=p>:</span> <span class=s1>'99.99.99.99'</span>
<span class=p>};</span>

<span class=nx>accountToken</span>
  <span class=p>.</span><span class=nx>post</span><span class=p>(</span><span class=s1>'customers'</span><span class=p>,</span> <span class=nx>requestBody</span><span class=p>)</span>
  <span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=kd>function</span><span class=p>(</span><span class=nx>res</span><span class=p>)</span> <span class=p>{</span>
    <span class=nx>res</span><span class=p>.</span><span class=nx>headers</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>'location'</span><span class=p>);</span> <span class=c1>// =&gt; 'https://api-uat.dwolla.com/customers/c7f300c0-f1ef-4151-9bbe-005005aa3747'</span>
  <span class=p>});</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-python data-lang=python><span class=n>request_body</span> <span class=o>=</span> <span class=p>{</span>
  <span class=s>'firstName'</span><span class=p>:</span> <span class=s>'Jane'</span><span class=p>,</span>
  <span class=s>'lastName'</span><span class=p>:</span> <span class=s>'Merchant'</span><span class=p>,</span>
  <span class=s>'email'</span><span class=p>:</span> <span class=s>'jmerchant@nomail.net'</span><span class=p>,</span>
  <span class=s>'ipAddress'</span><span class=p>:</span> <span class=s>'99.99.99.99'</span>
<span class=p>}</span>

<span class=c># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class=n>customer</span> <span class=o>=</span> <span class=n>account_token</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s>'customers'</span><span class=p>,</span> <span class=n>request_body</span><span class=p>)</span>
<span class=n>customer</span><span class=o>.</span><span class=n>headers</span><span class=p>[</span><span class=s>'location'</span><span class=p>]</span> <span class=c># =&gt; 'https://api-uat.dwolla.com/customers/c7f300c0-f1ef-4151-9bbe-005005aa3747'</span>

<span class=c># Using dwollaswagger - https://github.com/Dwolla/dwolla-swagger-python</span>
<span class=n>customers_api</span> <span class=o>=</span> <span class=n>dwollaswagger</span><span class=o>.</span><span class=n>CustomersApi</span><span class=p>(</span><span class=n>client</span><span class=p>)</span>
<span class=n>customer</span> <span class=o>=</span> <span class=n>customers_api</span><span class=o>.</span><span class=n>create</span><span class=p>(</span><span class=n>body</span> <span class=o>=</span> <span class=n>request_body</span><span class=p>)</span>
<span class=n>customer</span> <span class=c># =&gt; 'https://api-uat.dwolla.com/customers/c7f300c0-f1ef-4151-9bbe-005005aa3747'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-php data-lang=php><span class=cp>&lt;?php</span>
<span class=nv>$customersApi</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>DwollaSwagger\CustomersApi</span><span class=p>(</span><span class=nv>$apiClient</span><span class=p>);</span>

<span class=nv>$customer</span> <span class=o>=</span> <span class=nv>$customersApi</span><span class=o>-&gt;</span><span class=na>create</span><span class=p>([</span>
  <span class=s1>'firstName'</span> <span class=o>=&gt;</span> <span class=s1>'Jane'</span><span class=p>,</span>
  <span class=s1>'lastName'</span> <span class=o>=&gt;</span> <span class=s1>'Merchant'</span><span class=p>,</span>
  <span class=s1>'email'</span> <span class=o>=&gt;</span> <span class=s1>'jmerchant@nomail.net'</span><span class=p>,</span>
  <span class=s1>'ipAddress'</span> <span class=o>=&gt;</span> <span class=s1>'99.99.99.99'</span>
<span class=p>]);</span>

<span class=k>print</span><span class=p>(</span><span class=nv>$customer</span><span class=p>);</span> <span class=c1># =&gt; "https://api-uat.dwolla.com/customers/c7f300c0-f1ef-4151-9bbe-005005aa3747"
</span><span class=cp>?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-java"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-java data-lang=java><span class=n>CustomersApi</span> <span class=n>cApi</span> <span class=o>=</span> <span class=k>new</span> <span class=n>CustomersApi</span><span class=o>(</span><span class=n>a</span><span class=o>);</span>

<span class=n>CreateCustomer</span> <span class=n>newCustomerData</span> <span class=o>=</span> <span class=k>new</span> <span class=n>CreateCustomer</span><span class=o>();</span>

<span class=n>myNewCust</span><span class=o>.</span><span class=na>setFirstName</span><span class=o>(</span><span class=s>"Jane"</span><span class=o>);</span>
<span class=n>myNewCust</span><span class=o>.</span><span class=na>setLastName</span><span class=o>(</span><span class=s>"Merchant"</span><span class=o>);</span>
<span class=n>myNewCust</span><span class=o>.</span><span class=na>setEmail</span><span class=o>(</span><span class=s>"jmerchant@nomail.net"</span><span class=o>);</span>
<span class=n>myNewCust</span><span class=o>.</span><span class=na>setIpAddress</span><span class=o>(</span><span class=s>"99.99.99.99"</span><span class=o>);</span>

<span class=k>try</span> <span class=o>{</span>
    <span class=n>Unit</span><span class=err>$</span> <span class=n>r</span> <span class=o>=</span> <span class=n>cApi</span><span class=o>.</span><span class=na>create</span><span class=o>(</span><span class=n>myNewCust</span><span class=o>);</span>
    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>r</span><span class=o>.</span><span class=na>getLocationHeader</span><span class=o>());</span> <span class=c1>// =&gt; https://api-uat.dwolla.com/customers/c7f300c0-f1ef-4151-9bbe-005005aa3747</span>
<span class=o>}</span>
<span class=k>catch</span> <span class=o>(</span><span class=n>Exception</span> <span class=n>e</span><span class=o>)</span> <span class=o>{</span>
    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>"Something's up!"</span><span class=o>);</span>
<span class=o>}</span>
</code></pre></div></div><p>When the Customer is created, you’ll receive the Customer URL in the location header. If using an SDK, the location will be returned to you upon calling <code>create()</code>.</p><p><em>Important</em>: Provide the IP address of the end-user accessing your application as the ipAddress parameter. This enhances Dwolla’s ability to detect fraud. Sending random, hardcoded, or incorrect information in the ipAddress field may cause delays or throttling of requests.</p><h3>Step C. Attach a funding source to the Customer</h3><p>The next step is to attach a bank or credit union account to the Customer by providing the bank account’s routing number, account number, account type, and an arbitrary name.</p><p>Funds transferred to this Customer will be automatically swept into the funding source. The example below shows sample bank information, but you will include actual routing, account, and bank name after prompting your customer for this information within your application. Possible values for “type” can be either “checking” or “savings”. More detail is available in <a href=https://docsv2.dwolla.com/#create-a-funding-source-for-a-customer>API docs</a>.</p><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-raw data-lang=raw>POST https://api.dwolla.com/customers/c7f300c0-f1ef-4151-9bbe-005005aa3747/funding-sources
Content-Type: application/vnd.dwolla.v1.hal+json
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer 0Sn0W6kzNicvoWhDbQcVSKLRUpGjIdlPSEYyrHqrDDoRnQwE7Q
{
    "routingNumber": "222222226",
    "accountNumber": "123456789",
    "type": "checking",
    "name": "Jane Merchant - Checking 6789"
}

HTTP/1.1 201 Created
Location: https://api-uat.dwolla.com/funding-sources/375c6781-2a17-476c-84f7-db7d2f6ffb31
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-ruby data-lang=ruby><span class=n>customer_url</span> <span class=o>=</span> <span class=s1>'https://api-uat.dwolla.com/customers/c7f300c0-f1ef-4151-9bbe-005005aa3747'</span>
<span class=n>request_body</span> <span class=o>=</span> <span class=p>{</span>
  <span class=ss>routingNumber: </span><span class=s1>'222222226'</span><span class=p>,</span>
  <span class=ss>accountNumber: </span><span class=s1>'123456789'</span><span class=p>,</span>
  <span class=ss>type: </span><span class=s1>'checking'</span><span class=p>,</span>
  <span class=ss>name: </span><span class=s1>'Jane Merchant - Checking 6789'</span>
<span class=p>}</span>

<span class=c1># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class=n>funding_source</span> <span class=o>=</span> <span class=n>account_token</span><span class=p>.</span><span class=nf>post</span> <span class=s2>"</span><span class=si>#{</span><span class=n>customer_url</span><span class=si>}</span><span class=s2>/funding-sources"</span><span class=p>,</span> <span class=n>request_body</span>
<span class=n>funding_source</span><span class=p>.</span><span class=nf>headers</span><span class=p>[</span><span class=ss>:location</span><span class=p>]</span> <span class=c1># =&gt; "https://api-uat.dwolla.com/funding-sources/375c6781-2a17-476c-84f7-db7d2f6ffb31"</span>

<span class=c1># Using DwollaSwagger - https://github.com/Dwolla/dwolla-swagger-ruby</span>
<span class=n>funding_source</span> <span class=o>=</span> <span class=no>DwollaSwagger</span><span class=o>::</span><span class=no>FundingsourcesApi</span><span class=p>.</span><span class=nf>create_customer_funding_source</span><span class=p>(</span><span class=n>customer_url</span><span class=p>,</span> <span class=ss>:body</span> <span class=o>=&gt;</span> <span class=n>request_body</span><span class=p>)</span>
<span class=n>funding_source</span> <span class=c1># =&gt; "https://api-uat.dwolla.com/funding-sources/375c6781-2a17-476c-84f7-db7d2f6ffb31"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-javascript data-lang=javascript><span class=kd>var</span> <span class=nx>customerUrl</span> <span class=o>=</span> <span class=s1>'https://api-uat.dwolla.com/customers/c7f300c0-f1ef-4151-9bbe-005005aa3747'</span><span class=p>;</span>
<span class=kd>var</span> <span class=nx>requestBody</span> <span class=o>=</span> <span class=p>{</span>
  <span class=s1>'routingNumber'</span><span class=p>:</span> <span class=s1>'222222226'</span><span class=p>,</span>
  <span class=s1>'accountNumber'</span><span class=p>:</span> <span class=s1>'123456789'</span><span class=p>,</span>
  <span class=s1>'type'</span><span class=p>:</span> <span class=s1>'checking'</span><span class=p>,</span>
  <span class=s1>'name'</span><span class=p>:</span> <span class=s1>'Jane Merchant - Checking 6789'</span>
<span class=p>};</span>

<span class=nx>accountToken</span>
  <span class=p>.</span><span class=nx>post</span><span class=p>(</span><span class=err>`</span><span class=nx>$</span><span class=p>{</span><span class=nx>customerUrl</span><span class=p>}</span><span class=sr>/funding-sources`, requestBody</span><span class=err>)
</span>  <span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=kd>function</span><span class=p>(</span><span class=nx>res</span><span class=p>)</span> <span class=p>{</span>
    <span class=nx>res</span><span class=p>.</span><span class=nx>headers</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>'location'</span><span class=p>);</span> <span class=c1>// =&gt; 'https://api-uat.dwolla.com/funding-sources/375c6781-2a17-476c-84f7-db7d2f6ffb31'</span>
  <span class=p>});</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-python data-lang=python><span class=n>customer_url</span> <span class=o>=</span> <span class=s>'https://api-uat.dwolla.com/customers/c7f300c0-f1ef-4151-9bbe-005005aa3747'</span>
<span class=n>request_body</span> <span class=o>=</span> <span class=p>{</span>
  <span class=s>'routingNumber'</span><span class=p>:</span> <span class=s>'222222226'</span><span class=p>,</span>
  <span class=s>'accountNumber'</span><span class=p>:</span> <span class=s>'123456789'</span><span class=p>,</span>
  <span class=s>'type'</span><span class=p>:</span> <span class=s>'checking'</span><span class=p>,</span>
  <span class=s>'name'</span><span class=p>:</span> <span class=s>'Jane Merchant - Checking 6789'</span>
<span class=p>}</span>

<span class=c># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class=n>customer</span> <span class=o>=</span> <span class=n>account_token</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s>'</span><span class=si>%</span><span class=s>s/funding-sources'</span> <span class=o>%</span> <span class=n>customer_url</span><span class=p>,</span> <span class=n>request_body</span><span class=p>)</span>
<span class=n>customer</span><span class=o>.</span><span class=n>headers</span><span class=p>[</span><span class=s>'location'</span><span class=p>]</span> <span class=c># =&gt; 'https://api-uat.dwolla.com/funding-sources/375c6781-2a17-476c-84f7-db7d2f6ffb31'</span>

<span class=c># Using dwollaswagger - https://github.com/Dwolla/dwolla-swagger-python</span>
<span class=n>funding_api</span> <span class=o>=</span> <span class=n>dwollaswagger</span><span class=o>.</span><span class=n>FundingsourcesApi</span><span class=p>(</span><span class=n>client</span><span class=p>)</span>
<span class=n>funding_source</span> <span class=o>=</span> <span class=n>funding_api</span><span class=o>.</span><span class=n>create_customer_funding_source</span><span class=p>(</span><span class=n>customer_url</span><span class=p>,</span> <span class=n>body</span> <span class=o>=</span> <span class=n>request_body</span><span class=p>)</span>
<span class=n>funding_source</span> <span class=c># =&gt; 'https://api-uat.dwolla.com/funding-sources/375c6781-2a17-476c-84f7-db7d2f6ffb31'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-php data-lang=php><span class=cp>&lt;?php</span>
<span class=nv>$fundingApi</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>DwollaSwagger\FundingsourcesApi</span><span class=p>(</span><span class=nv>$apiClient</span><span class=p>);</span>

<span class=nv>$new_fs</span> <span class=o>=</span> <span class=nv>$fundingApi</span><span class=o>-&gt;</span><span class=na>createCustomerFundingSource</span><span class=p>([</span>
  <span class=s2>"routingNumber"</span> <span class=o>=&gt;</span> <span class=s2>"222222226"</span><span class=p>,</span>
  <span class=s2>"accountNumber"</span> <span class=o>=&gt;</span> <span class=s2>"123456789"</span><span class=p>,</span>
  <span class=s2>"type"</span> <span class=o>=&gt;</span> <span class=s2>"checking"</span><span class=p>,</span>
  <span class=s2>"name"</span> <span class=o>=&gt;</span> <span class=s2>"Jane Merchant - Checking 6789"</span>
<span class=p>],</span> <span class=s2>"https://api-uat.dwolla.com/customers/c7f300c0-f1ef-4151-9bbe-005005aa3747"</span><span class=p>);</span>

<span class=k>print</span><span class=p>(</span><span class=nv>$new_fs</span><span class=p>);</span> <span class=c1># =&gt; https://api-uat.dwolla.com/funding-sources/375c6781-2a17-476c-84f7-db7d2f6ffb31
</span><span class=cp>?&gt;</span>
</code></pre></div></div><p>The created funding source URL is returned in the location header.</p><nav class=pager-nav><a href="./">Back: Overview</a> <a href=02-fetch-funding-sources.html>Next step: Fetch funding sources</a></nav><hr><footer><div class=page-wrap><nav><h6>Info</h6><a href=https://www.dwolla.com/about>Product</a> <a href=https://developers.dwolla.com>Documentation</a> <a href=https://www.dwolla.com/bank-transfers>Bank transfers</a> <a href=https://www.dwolla.com/same-day-ach>Same day transfers</a> <a href=https://www.dwolla.com/fisync>FiSync</a> <a href="https://www.dwolla.com/pricing?b=footer">Pricing</a> <a href="https://www.dwolla.com/contact?b=footer">Let's talk</a></nav><nav><h6>Account</h6><a href=https://www.dwolla.com/register>Sign up</a> <a href=https://www.dwolla.com/login>Log in</a> <a href=http://help.dwolla.com>Support</a> <a href=https://www.dwolla.com/security>Security</a> <a href="https://www.dwolla.com/legal/privacy/">Privacy</a> <a href="https://www.dwolla.com/legal/tos/">Legal</a></nav><nav><h6>Elsewhere</h6><a href=https://twitter.com/dwolla>Twitter</a> <a href=https://www.facebook.com/dwolla>Facebook</a> <a href=https://www.linkedin.com/company/dwolla>Linkedin</a> <a href=https://github.com/dwolla>GitHub</a></nav><nav><h6>Learn more</h6><a href=https://www.dwolla.com/press>Press</a> <a href=https://www.dwolla.com/updates>Updates</a> <a href=https://www.dwolla.com/careers>Careers</a></nav></div></footer><section class=disclaimer><div class=page-wrap><h5>Financial institutions play an important role in the Dwolla network.</h5><p>Dwolla, Inc. is an agent of Veridian Credit Union and Compass Bank and all funds associated with your account in the Dwolla network are held in pooled accounts at Veridian Credit Union and Compass Bank. These funds are not eligible for individual insurance, including FDIC insurance and may not be eligible for share insurance by the National Credit Union Share Insurance Fund. Dwolla, Inc. is the operator of a software platform that communicates user instructions for funds transfers to Veridian Credit Union and Compass Bank.</p></div></section><section class=copyright><div class=page-wrap><div><span>© 2016 Dwolla, Inc.</span> <a href="https://www.dwolla.com/legal/about-our-financial-institution-partner/">Dwolla, Inc. is an agent of its Financial Institution Partner(s)</a></div></div></section></section></div></div></div><script src=//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js></script><script>window.jQuery || document.write('<script src="/_bower_components/jquery/jquery.min.js"><\/script>')</script><script src=/js/script.3a68.js></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
  function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
  e=o.createElement(i);r=o.getElementsByTagName(i)[0];
  e.src='//www.google-analytics.com/analytics.js';
  r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
  ga('create','UA-30404064-1');ga('send','pageview');</script></body></html>