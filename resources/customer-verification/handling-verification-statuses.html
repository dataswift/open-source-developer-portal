<!DOCTYPE html><html class=no-js><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>Handling verification statuses | Dwolla API</title><meta name=description content="How to verify a customer before sending a bank transfer with Dwolla's ACH API."><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=/css/main.2ea9.css><link rel=stylesheet href="//fonts.googleapis.com/css?family=Roboto+Slab:300|Open+Sans:300,400,600,700"><script src=/js/head-scripts.3bcb.js></script><script src=https://cdn.statuspage.io/se-v2.js></script></head><body><!--[if lt IE 8]>
        <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]--><header><div class="header__primary js-two-col-header-primary"><div class=page-wrap><div><a href=https://www.dwolla.com class="logo icon-logo-dwolla-white">Dwolla</a><div class=hamburger><a href="https://www.dwolla.com/contact?b=nav">Let's talk</a> <a class="btn primary js-hamburger">Menu</a></div></div><nav class=js-hamburger-nav><a href=https://www.dwolla.com/about>Product</a> <a href="/">Developer</a> <a href=https://www.dwolla.com/login>Log in</a> <a href=https://www.dwolla.com/register>Sign up</a> <a class="btn primary" href="https://www.dwolla.com/contact?b=nav">Let's talk</a></nav></div></div><nav class="header__secondary js-two-col-nav-toggle"><div class=js-two-col-header-secondary><div class=page-wrap><a href="/guides/">Guides</a> <a href="/resources/" class=active>Resources</a> <a href="https://docsv2.dwolla.com/">API docs</a> <a href=/pages/sdks.html class="no-nav js-two-col-no-toggle">SDKs</a><div class="custom-select custom-select--blue js-global-language-select"><select name=select class=js-language-select><option value=raw>raw</option><option value=php>php</option><option value=ruby>ruby</option><option value=python>python</option><option value=javascript>javascript</option></select><div class=arrow></div></div></div></div></nav></header><div class=content><div class=cnt-two-col><div class=page-wrap><section class="cnt-two-col__nav js-two-col-nav"><div class=close><button class="js-two-col-nav-close icon-cnt-two-col-close"></button></div><div class=language-picker><h6>Language</h6><div class="custom-select custom-select--blue"><select class=js-language-select name=select><option value=raw>raw</option><option value=php selected>php</option><option value=ruby>ruby</option><option value=python>python</option><option value=javascript>javascript</option></select><div class=arrow></div></div></div><!-- nav elements below should be in the same order of the secondary navigation --><nav class="side-nav js-side-nav"><section id=js-sidenav-dropdown class=side-nav__dropdown><h6>Choose a guide</h6><div class=picker id=js-sidenav-dropdown-button><button>Please select a guide</button><div class="icon icon-side-nav-collapse-plus"></div><div class="icon icon-side-nav-collapse-minus"></div></div><nav id=js-sidenav-dropdown-nav><a href="/guides/sandbox-setup/">Getting started in Sandbox</a> <a href="/guides/send-money/">Send money to your users</a> <a href="/guides/receive-money/">Receive money from your users</a> <a href="/guides/transfer-money-between-users/">Transfer money between users</a> <a href="/guides/webhooks/">Webhooks</a> <a href="/guides/migrate-to-v2/">Migrate to v2</a></nav></section><section class=steps-nav style=display:none><h6>Follow the steps</h6><ol><li><a href=/guides/send-money>Overview: Send money to your users</a><div class=dot></div><ol><li><a href=/guides/send-money/01-white-label-onboarding.html>Option 1: White label</a><div class=dot></div></li><li><a href=/guides/send-money/01-direct-onboarding.html>Option 2: Dwolla Direct</a><div class=dot></div></li></ol></li><li><a href=/guides/send-money/02-fetch-funding-sources.html>Fetch funding sources</a><div class=dot></div></li><li><a href=/guides/send-money/03-create-transfer.html>Create a transfer</a><div class=dot></div></li><li><a href=/guides/send-money/04-check-transfer.html>Check transfer status</a><div class=dot></div></li></ol></section><!-- <section class="side-nav__options" style="display:none">
    <h6>Options</h6>
    <ul>
        <li class="external-link"><a href="https://developers.dwolla.com/dev/pages/guides/masspay" target="_blank"><span class="icon-sidenav-option">MassPay V1</span></a></li>
        <li class="external-link"><a href=""><span class="icon-sidenav-option">Recurring and Scheduled V1</span></a></li>
    </ul>
</section> --><section class=steps-nav style=display:none><h6>Follow the steps</h6><ol><li><a href=/guides/receive-money>Overview</a><div class=dot></div><ol><li><a href=/guides/receive-money/01-white-label-onboarding.html>Option 1: White label</a><div class=dot></div></li><li><a href=/guides/receive-money/01-direct-onboarding.html>Option 2: Dwolla Direct</a><div class=dot></div></li></ol></li><li><a href=/guides/receive-money/02-check-transfer.html>Check transfer status</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>Follow the steps</h6><ol><li><a href=/guides/webhooks>Overview: Webhooks</a><div class=dot></div></li><li><a href=/guides/webhooks/01-obtain-authorization.html>Obtain authorization</a><div class=dot></div></li><li><a href=/guides/webhooks/02-create-subscription.html>Create a webhook subscription</a><div class=dot></div></li><li><a href=/guides/webhooks/03-validating-webhooks.html>Validating webhooks</a><div class=dot></div></li><li><a href=/guides/webhooks/04-process-webhooks.html>Processing webhooks</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>Follow the steps</h6><ol><li><a href=/guides/transfer-money-between-users>Overview: transfer money between your users</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/01-access-token.html>Generate an access token</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/02-create-verified-customer.html>Create a verified customer</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/03-attach-unverified-bank.html>Attach an unverified funding source</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/04-create-unverified-customer.html>Create an unverified Customer</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/05-attach-verified-bank.html>Attach a verified funding source</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/06-create-transfer.html>Create a transfer</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/07-check-transfer.html>Check the status of your transfer</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>Follow the steps</h6><ol><li><a href=/guides/migrate-to-v2>Overview: Migrate to v2</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/01-api-v2-principles.html>API v2 principles</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/02-making-requests.html>Making requests</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/03-authentication.html>Authentication</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/04-sdk-support.html>SDK support</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/05-v1-to-v2-endpoint-changes.html>v1 to v2 endpoint changes</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/06-other-notable-changes.html>Other notable changes</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/07-faq.html>FAQ</a><div class=dot></div></li></ol></section></nav><nav class="side-nav js-side-nav active"><section><h6>Tools</h6><ul><li><a href=/resources/sandbox-console.html>Sandbox Console</a></li><li><a href=/resources/token-generator.html>Token generator</a></li><li><a href=/resources/changelog.html>Change log</a></li><li class=external-link><a href="http://status.dwolla.com/" target=_blank><span class=icon-sidenav-option>Status</span></a></li></ul><h6>Articles</h6><ul><li><a href=/resources/account-types.html>Account types</a><ul><li><a href=/resources/account-types/traditional-accounts.html>Traditional accounts</a></li><li><a href=/resources/account-types/white-label-accounts.html>White Label accounts</a></li></ul></li><li><a href=/resources/bank-transfer-workflow.html>Bank transfer workflow</a><ul><li><a href=/resources/bank-transfer-workflow/processing-times.html>Processing times</a></li><li><a href=/resources/bank-transfer-workflow/transfer-failures.html>Transfer failures</a></li></ul></li><li><a href=/resources/customer-verification.html class=active>Customer verification</a><ul><li><a href=/resources/customer-verification/personal-verified-customers.html>Personal verified Customers</a></li><li><a href=/resources/customer-verification/business-verified-customers.html>Business verified Customers</a></li><li><a href=/resources/customer-verification/handling-verification-statuses.html class=active>Handling verification statuses</a></li></ul></li><li><a href=/resources/dwolla-js.html>Dwolla.js</a><ul><li><a href=/resources/dwolla-js/add-a-bank-account.html>Add a bank account</a></li><li><a href=/resources/dwolla-js/instant-account-verification.html>Instant account verification</a></li><li><a href=/resources/dwolla-js/on-demand-bank-transfers.html>On-demand bank transfers</a></li></ul></li><li><a href=/resources/facilitator-fee.html>Facilitator Fee</a><ul></ul></li><li><a href=/resources/funding-source-verification.html>Funding source verification</a><ul><li><a href=/resources/funding-source-verification/micro-deposit-verification.html>Micro-deposit verification</a></li><li><a href=/resources/funding-source-verification/instant-account-verification.html>Instant account verification</a></li></ul></li><li><a href=/resources/oauth-refresh-strategies.html>OAuth refresh strategies</a><ul><li><a href=/resources/oauth-refresh-strategies/preemptively-refresh.html>Preemptively refresh authorization</a></li><li><a href=/resources/oauth-refresh-strategies/refresh-on-demand.html>Refresh on-demand</a></li><li><a href=/resources/oauth-refresh-strategies/refresh-best-practices.html>Refresh best practices</a></li></ul></li></ul></section></nav><nav class="side-nav js-side-nav"><section id=js-sidenav-dropdown class=side-nav__dropdown><ul><li><a href=https://docsv2.dwolla.com/#introduction>Introduction</a></li><li><a href=https://docsv2.dwolla.com/#oauth>OAuth</a></li><li><a href=https://docsv2.dwolla.com/#customers>Customers</a></li><li><a href=https://docsv2.dwolla.com/#documents>Documents</a></li><li><a href=https://docsv2.dwolla.com/#sources>Funding Sources</a></li><li><a href=https://docsv2.dwolla.com/#transfers>Transfers</a></li><li><a href=https://docsv2.dwolla.com/#events>Events</a></li><li><a href=https://docsv2.dwolla.com/#subscriptions>Webhook Subscriptions</a></li><li><a href=https://docsv2.dwolla.com/#webhooks>Webhooks</a></li></ul></section></nav></section><section class=cnt-two-col__content><h1>Customer verification</h1><h2>Handling verification statuses</h2><p>There are various reasons a Customer will result in a status other than <code>verified</code> which you will want to account for after the Customer is created. For example, the <code>retry</code> status can occur when an individual mis-keys or uses incorrect identifying information upon Customer creation.</p><h4>Testing verification statuses in Sandbox:</h4><p>By submitting <code>verified</code>, <code>retry</code>, <code>document</code>, or <code>suspended</code> in the firstName parameter, you can create a new verified Customer with that status. To get a verified Customer with the <code>retry</code> status to <code>verified</code>, you need to POST to /customers/{id} with <code>verified</code> or anything else and the verified Customer will get <code>verified</code>. The full SSN is required in the when updating a Customer with a <code>retry</code> verification status. If only the last four of the SSN is submitted, Dwolla returns &ldquo;invalid SSN&rdquo;, and initiating a POST again with a Full SSN will result in a <code>document</code> status.</p><h3>Handling status: <code>retry</code></h3><p>If the Customer has a status of <code>retry</code>, some information may have been miskeyed. You have one more opportunity to correct any mistakes. This time, you’ll need to provide the customer’s full SSN.</p><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-raw data-lang=raw>POST https://api.dwolla.com/customers/132681fa-1b4d-4181-8ff2-619ca46235b1
Content-Type: application/vnd.dwolla.v1.hal+json
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

{
  "firstName": "John",
  "lastName": "Doe",
  "email": "johndoe@nomail.net",
  "ipAddress": "10.10.10.10",
  "type": "personal",
  "address1": "221 Corrected Address St.",
  "address2": "Fl 8",
  "city": "Ridgewood",
  "state": "NY",
  "postalCode": "11385",
  "dateOfBirth": "1990-07-11",
  "ssn ": "202-99-1516"
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-ruby data-lang=ruby><span class=n>customer_url</span> <span class=o>=</span> <span class=s1>'https://api.dwolla.com/customers/132681fa-1b4d-4181-8ff2-619ca46235b1'</span>
<span class=n>request_body</span> <span class=o>=</span> <span class=p>{</span>
      <span class=s2>"firstName"</span> <span class=o>=&gt;</span> <span class=s2>"John"</span><span class=p>,</span>
       <span class=s2>"lastName"</span> <span class=o>=&gt;</span> <span class=s2>"Doe"</span><span class=p>,</span>
          <span class=s2>"email"</span> <span class=o>=&gt;</span> <span class=s2>"jdoe@nomail.com"</span><span class=p>,</span>
      <span class=s2>"ipAddress"</span> <span class=o>=&gt;</span> <span class=s2>"10.10.10.10"</span><span class=p>,</span>
           <span class=s2>"type"</span> <span class=o>=&gt;</span> <span class=s2>"personal"</span><span class=p>,</span>
       <span class=s2>"address1"</span> <span class=o>=&gt;</span> <span class=s2>"221 Corrected Address St.."</span><span class=p>,</span>
       <span class=s2>"address2"</span> <span class=o>=&gt;</span> <span class=s2>"Apt 201"</span><span class=p>,</span>
           <span class=s2>"city"</span> <span class=o>=&gt;</span> <span class=s2>"San Francisco"</span><span class=p>,</span>
          <span class=s2>"state"</span> <span class=o>=&gt;</span> <span class=s2>"CA"</span><span class=p>,</span>
     <span class=s2>"postalCode"</span> <span class=o>=&gt;</span> <span class=s2>"94104"</span><span class=p>,</span>
    <span class=s2>"dateOfBirth"</span> <span class=o>=&gt;</span> <span class=s2>"1970-07-11"</span><span class=p>,</span>
            <span class=s2>"ssn"</span> <span class=o>=&gt;</span> <span class=s2>"123-45-6789"</span>
<span class=p>}</span>

<span class=c1># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class=n>customer</span> <span class=o>=</span> <span class=n>account_token</span><span class=p>.</span><span class=nf>post</span> <span class=n>customer_url</span><span class=p>,</span> <span class=n>request_body</span>
<span class=n>customer</span><span class=p>.</span><span class=nf>id</span> <span class=c1># =&gt; "132681fa-1b4d-4181-8ff2-619ca46235b1"</span>

<span class=c1># Using DwollaSwagger - https://github.com/Dwolla/dwolla-swagger-ruby</span>
<span class=n>customer</span> <span class=o>=</span> <span class=no>DwollaSwagger</span><span class=o>::</span><span class=no>CustomersApi</span><span class=p>.</span><span class=nf>update_customer</span><span class=p>(</span><span class=n>customer_url</span><span class=p>,</span> <span class=ss>:body</span> <span class=o>=&gt;</span> <span class=n>request_body</span><span class=p>)</span>
<span class=n>customer</span><span class=p>.</span><span class=nf>id</span> <span class=c1># =&gt; "132681fa-1b4d-4181-8ff2-619ca46235b1"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-javascript data-lang=javascript><span class=c1>// Using dwolla-v2 - https://github.com/Dwolla/dwolla-v2-node</span>
<span class=kd>var</span> <span class=nx>customerUrl</span> <span class=o>=</span> <span class=s1>'https://api.dwolla.com/customers/132681fa-1b4d-4181-8ff2-619ca46235b1'</span><span class=p>;</span>
<span class=kd>var</span> <span class=nx>requestBody</span> <span class=o>=</span> <span class=p>{</span>
  <span class=na>firstName</span><span class=p>:</span> <span class=s2>"John"</span><span class=p>,</span>
  <span class=na>lastName</span><span class=p>:</span> <span class=s2>"Doe"</span><span class=p>,</span>
  <span class=na>email</span><span class=p>:</span> <span class=s2>"johndoe@dwolla.com"</span><span class=p>,</span>
  <span class=na>ipAddress</span><span class=p>:</span> <span class=s2>"10.10.10.10"</span><span class=p>,</span>
  <span class=na>type</span><span class=p>:</span> <span class=s2>"personal"</span><span class=p>,</span>
  <span class=na>address1</span><span class=p>:</span> <span class=s2>"221 Corrected Address St.."</span><span class=p>,</span>
  <span class=na>address2</span><span class=p>:</span> <span class=s2>"Fl 8"</span><span class=p>,</span>
  <span class=na>city</span><span class=p>:</span> <span class=s2>"Ridgewood"</span><span class=p>,</span>
  <span class=na>state</span><span class=p>:</span> <span class=s2>"NY"</span><span class=p>,</span>
  <span class=na>postalCode</span><span class=p>:</span> <span class=s2>"11385"</span><span class=p>,</span>
  <span class=na>dateOfBirth</span><span class=p>:</span> <span class=s2>"1990-07-11"</span><span class=p>,</span>
  <span class=na>ssn</span><span class=p>:</span> <span class=s2>"202-99-1516"</span>
<span class=p>};</span>

<span class=nx>accountToken</span>
  <span class=p>.</span><span class=nx>post</span><span class=p>(</span><span class=nx>customerUrl</span><span class=p>,</span> <span class=nx>requestBody</span><span class=p>)</span>
  <span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=kd>function</span><span class=p>(</span><span class=nx>res</span><span class=p>)</span> <span class=p>{</span>
    <span class=nx>res</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>id</span><span class=p>;</span> <span class=c1>// =&gt; '132681fa-1b4d-4181-8ff2-619ca46235b1'</span>
  <span class=p>});</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-python data-lang=python><span class=n>customer_url</span> <span class=o>=</span> <span class=s>'https://api.dwolla.com/customers/132681fa-1b4d-4181-8ff2-619ca46235b1'</span>
<span class=n>request_body</span> <span class=o>=</span> <span class=p>{</span>
  <span class=s>"firstName"</span><span class=p>:</span> <span class=s>"John"</span><span class=p>,</span>
  <span class=s>"lastName"</span><span class=p>:</span> <span class=s>"Doe"</span><span class=p>,</span>
  <span class=s>"email"</span><span class=p>:</span> <span class=s>"jdoe@nomail.com"</span><span class=p>,</span>
  <span class=s>"ipAddress"</span><span class=p>:</span> <span class=s>"10.10.10.10"</span><span class=p>,</span>
  <span class=s>"type"</span><span class=p>:</span> <span class=s>"personal"</span><span class=p>,</span>
  <span class=s>"address1"</span><span class=p>:</span> <span class=s>"221 Corrected Address St.."</span><span class=p>,</span>
  <span class=s>"address2"</span><span class=p>:</span> <span class=s>"Apt 201"</span><span class=p>,</span>
  <span class=s>"city"</span><span class=p>:</span> <span class=s>"San Francisco"</span><span class=p>,</span>
  <span class=s>"state"</span><span class=p>:</span> <span class=s>"CA"</span><span class=p>,</span>
  <span class=s>"postalCode"</span><span class=p>:</span> <span class=s>"94104"</span><span class=p>,</span>
  <span class=s>"dateOfBirth"</span><span class=p>:</span> <span class=s>"1970-07-11"</span><span class=p>,</span>
  <span class=s>"ssn"</span><span class=p>:</span> <span class=s>"123-45-6789"</span>
<span class=p>}</span>

<span class=c># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class=n>customer</span> <span class=o>=</span> <span class=n>account_token</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s>'customers'</span><span class=p>,</span> <span class=n>request_body</span><span class=p>)</span>
<span class=n>customer</span><span class=o>.</span><span class=n>body</span><span class=o>.</span><span class=nb>id</span> <span class=c># =&gt; '132681fa-1b4d-4181-8ff2-619ca46235b1'</span>

<span class=c># Using dwollaswagger - https://github.com/Dwolla/dwolla-swagger-python</span>
<span class=n>customers_api</span> <span class=o>=</span> <span class=n>dwollaswagger</span><span class=o>.</span><span class=n>CustomersApi</span><span class=p>(</span><span class=n>client</span><span class=p>)</span>
<span class=n>customer</span> <span class=o>=</span> <span class=n>customers_api</span><span class=o>.</span><span class=n>update_customer</span><span class=p>(</span><span class=n>customer_url</span><span class=p>,</span> <span class=n>body</span> <span class=o>=</span> <span class=n>request_body</span><span class=p>)</span>
<span class=n>customer</span><span class=o>.</span><span class=nb>id</span> <span class=c># =&gt; '132681fa-1b4d-4181-8ff2-619ca46235b1'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-php data-lang=php><span class=cp>&lt;?php</span>
<span class=nv>$customersApi</span> <span class=o>=</span> <span class=nx>DwollaSwagger\CustomersApi</span><span class=p>(</span><span class=nv>$apiClient</span><span class=p>);</span>

<span class=nv>$retryCustomer</span> <span class=o>=</span> <span class=nv>$customersApi</span><span class=o>-&gt;</span><span class=na>create</span><span class=p>(</span><span class=k>array</span> <span class=p>(</span>
  <span class=s1>'firstName'</span> <span class=o>=&gt;</span> <span class=s1>'John'</span><span class=p>,</span>
  <span class=s1>'lastName'</span> <span class=o>=&gt;</span> <span class=s1>'Doe'</span><span class=p>,</span>
  <span class=s1>'email'</span> <span class=o>=&gt;</span> <span class=s1>'johndoe@nomail.net'</span><span class=p>,</span>
  <span class=s1>'ipAddress'</span> <span class=o>=&gt;</span> <span class=s1>'10.10.10.10'</span><span class=p>,</span>
  <span class=s1>'type'</span> <span class=o>=&gt;</span> <span class=s1>'personal'</span><span class=p>,</span>
  <span class=s1>'address1'</span> <span class=o>=&gt;</span> <span class=s1>'221 Corrected Address St.'</span><span class=p>,</span>
  <span class=s1>'address2'</span> <span class=o>=&gt;</span> <span class=s1>'Fl 8'</span><span class=p>,</span>
  <span class=s1>'city'</span> <span class=o>=&gt;</span> <span class=s1>'Ridgewood'</span><span class=p>,</span>
  <span class=s1>'state'</span> <span class=o>=&gt;</span> <span class=s1>'NY'</span><span class=p>,</span>
  <span class=s1>'postalCode'</span> <span class=o>=&gt;</span> <span class=s1>'11385'</span><span class=p>,</span>
  <span class=s1>'dateOfBirth'</span> <span class=o>=&gt;</span> <span class=s1>'1990-07-11'</span><span class=p>,</span>
  <span class=s1>'ssn'</span> <span class=o>=&gt;</span> <span class=s1>'202-99-1516'</span><span class=p>,</span>
<span class=p>));</span>

<span class=k>print</span><span class=p>(</span><span class=nv>$retryCustomer</span><span class=p>);</span> <span class=c1># =&gt; 132681fa-1b4d-4181-8ff2-619ca46235b1
</span><span class=cp>?&gt;</span>
</code></pre></div></div><p>Check the Customer’s status again. The Customer will either be <code>verified</code> or in the <code>document</code> or <code>suspended</code> state of verification.</p><h3>Handling status: <code>document</code></h3><p>If the Customer has a status of <code>document</code>, then you&rsquo;ll need to upload additional pieces of information in order to verify the account. Use the <a href=https://docsv2.dwolla.com/#create-a-document>create a document</a> endpoint when uploading a scan of the identifying document. The document will then be reviewed by Dwolla.</p><h4>Document Types</h4><p><strong>Personal verified Customers:</strong> a scanned photo of the Customer&rsquo;s identifying document can be specified as documentType: <code>passport</code>, <code>license</code> (state issued driver&rsquo;s license), or <code>idCard</code> (other U.S. government-issued photo id card).</p><p><strong>Business verified Customers:</strong> Documents that are used to help identify a business are specified as documentType <code>other</code>. Business Identifying documents can include the following:</p><ul><li>Partnership, General Partnership: EIN Letter (IRS-issued SS4 confirmation letter).</li><li>Limited Liability Corporation (LLC), Corporation: EIN Letter (IRS-issued SS4 confirmation letter).</li><li>Sole Proprietorship: one or more of the following, as applicable to your sole proprietorship: Fictitious Business Name Statement; EIN documentation (IRS-issued SS4 confirmation letter); Color copy of a valid government-issued photo ID (e.g., a driver’s license, passport, or state ID card).</li></ul><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-raw data-lang=raw>curl -X POST 
\ -H "Authorization: Bearer tJlyMNW6e3QVbzHjeJ9JvAPsRglFjwnba4NdfCzsYJm7XbckcR" 
\ -H "Accept: application/vnd.dwolla.v1.hal+json" 
\ -H "Cache-Control: no-cache" 
\ -H "Content-Type: multipart/form-data" 
\ -F "documentType=passport" 
\ -F "file=@foo.png" 
\ 'https://api-uat.dwolla.com/customers/132681fa-1b4d-4181-8ff2-619ca46235b1/documents'

HTTP/1.1 201 Created
Location: https://api-uat.dwolla.com/documents/11fe0bab-39bd-42ee-bb39-275afcc050d0
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-ruby data-lang=ruby><span class=c1># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class=n>customer_url</span> <span class=o>=</span> <span class=s1>'https://api.dwolla.com/customers/132681fa-1b4d-4181-8ff2-619ca46235b1'</span>

<span class=n>file</span> <span class=o>=</span> <span class=no>Faraday</span><span class=o>::</span><span class=no>UploadIO</span><span class=p>.</span><span class=nf>new</span><span class=p>(</span><span class=s1>'mclovin.jpg'</span><span class=p>,</span> <span class=s1>'image/jpeg'</span><span class=p>)</span>
<span class=n>document</span> <span class=o>=</span> <span class=n>account_token</span><span class=p>.</span><span class=nf>post</span> <span class=s2>"</span><span class=si>#{</span><span class=n>customer_url</span><span class=si>}</span><span class=s2>/documents"</span><span class=p>,</span> <span class=ss>file: </span><span class=n>file</span><span class=p>,</span> <span class=ss>documentType: </span><span class=s1>'license'</span>
<span class=n>document</span><span class=p>.</span><span class=nf>headers</span><span class=p>[</span><span class=ss>:location</span><span class=p>]</span> <span class=c1># =&gt; "https://api.dwolla.com/documents/11fe0bab-39bd-42ee-bb39-275afcc050d0"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-javascript data-lang=javascript><span class=c1>// Using dwolla-v2 - https://github.com/Dwolla/dwolla-v2-node</span>
<span class=kd>var</span> <span class=nx>customerUrl</span> <span class=o>=</span> <span class=s1>'https://api.dwolla.com/customers/132681fa-1b4d-4181-8ff2-619ca46235b1'</span><span class=p>;</span>

<span class=kd>var</span> <span class=nx>requestBody</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>FormData</span><span class=p>();</span>
<span class=nx>body</span><span class=p>.</span><span class=nx>append</span><span class=p>(</span><span class=s1>'file'</span><span class=p>,</span> <span class=nx>fs</span><span class=p>.</span><span class=nx>createReadStream</span><span class=p>(</span><span class=s1>'mclovin.jpg'</span><span class=p>),</span> <span class=p>{</span>
  <span class=na>filename</span><span class=p>:</span> <span class=s1>'mclovin.jpg'</span><span class=p>,</span>
  <span class=na>contentType</span><span class=p>:</span> <span class=s1>'image/jpeg'</span><span class=p>,</span>
  <span class=na>knownLength</span><span class=p>:</span> <span class=nx>fs</span><span class=p>.</span><span class=nx>statSync</span><span class=p>(</span><span class=s1>'mclovin.jpg'</span><span class=p>).</span><span class=nx>size</span>
<span class=p>});</span>
<span class=nx>body</span><span class=p>.</span><span class=nx>append</span><span class=p>(</span><span class=s1>'documentType'</span><span class=p>,</span> <span class=s1>'license'</span><span class=p>);</span>

<span class=nx>accountToken</span>
  <span class=p>.</span><span class=nx>post</span><span class=p>(</span><span class=err>`</span><span class=nx>$</span><span class=p>{</span><span class=nx>customerUrl</span><span class=p>}</span><span class=sr>/documents`, requestBody</span><span class=err>)
</span>  <span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=kd>function</span><span class=p>(</span><span class=nx>res</span><span class=p>)</span> <span class=p>{</span>
    <span class=nx>res</span><span class=p>.</span><span class=nx>headers</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>'location'</span><span class=p>);</span> <span class=c1>// =&gt; "https://api.dwolla.com/documents/11fe0bab-39bd-42ee-bb39-275afcc050d0"</span>
  <span class=p>});</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-python data-lang=python><span class=n>customer_url</span> <span class=o>=</span> <span class=s>'https://api.dwolla.com/customers/132681fa-1b4d-4181-8ff2-619ca46235b1'</span>

<span class=c># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class=n>document</span> <span class=o>=</span> <span class=n>account_token</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s>'</span><span class=si>%</span><span class=s>s/documents'</span> <span class=o>%</span> <span class=n>customer_url</span><span class=p>,</span> <span class=nb>file</span> <span class=o>=</span> <span class=nb>open</span><span class=p>(</span><span class=s>'mclovin.jpg'</span><span class=p>,</span> <span class=s>'rb'</span><span class=p>),</span> <span class=n>documentType</span> <span class=o>=</span> <span class=s>'license'</span><span class=p>)</span>
<span class=n>document</span><span class=o>.</span><span class=n>headers</span><span class=p>[</span><span class=s>'location'</span><span class=p>]</span> <span class=c># =&gt; 'https://api.dwolla.com/documents/11fe0bab-39bd-42ee-bb39-275afcc050d0'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-php data-lang=php>// No SDK support. Coming soon
</code></pre></div></div><p>If the document was successfully uploaded, the response will be a HTTP 201|Created with the URL of the new document resource contained in the Location header.</p><div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class=language-nohide data-lang=nohide>HTTP/1.1 201 Created
Location: https://api-uat.dwolla.com/documents/11fe0bab-39bd-42ee-bb39-275afcc050d0
</code></pre></div></div><p>You’ll also get a webhook with a <code>customer_verification_document_uploaded</code> event to let you know the document was successfully uploaded.</p><p>Once created, the document will be reviewed by Dwolla. When our team has made a decision, we’ll trigger either a <code>customer_verification_document_approved</code> or <code>customer_verification_document_failed</code>event (possibly followed by another <code>customer_verification_document_needed</code>).</p><p>If the document was sufficient, the Customer will be verified. If not, we may need additional documentation.</p><p>If the document was found to be fraudulent or doesn’t match the identity of the Customer, they will be suspended.</p><h4>Document failure</h4><p>If you receive a <code>customer_verification_document_failed</code> webhook, you’ll need to upload another document. The document can fail if, for example, the Customer uploaded the wrong type of document or the <code>.jpg</code> or <code>.png</code> file supplied was not readable (i.e. blurry, not well lit, or cuts off a portion of the identifying image). To retrieve the failure reason for the document upload, you’ll retrieve the document by its id. Contained in the response will be a <code>failureReason</code> which corresponds to one of the following values:</p><ul><li>ScanNotReadable</li><li>ScanNotUploaded</li><li>ScanIdTypeNotSupported</li><li>ScanNameMismatch</li><li>ScanFailedOther</li><li>FailedOther</li></ul><h4>Request and response:</h4><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-raw data-lang=raw>GET https://api-uat.dwolla.com/documents/11fe0bab-39bd-42ee-bb39-275afcc050d0
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer tJlyMNW6e3QVbzHjeJ9JvAPsRglFjwnba4NdfCzsYJm7XbckcR

...

{
  "_links": {
    "self": {
      "href": "https://api-uat.dwolla.com/documents/11fe0bab-39bd-42ee-bb39-275afcc050d0"
    }
  },
  "id": "11fe0bab-39bd-42ee-bb39-275afcc050d0",
  "status": "reviewed",
  "type": "license",
  "created": "2016-01-29T21:22:22.000Z",
  "failureReason": "ScanNotReadable"
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-ruby data-lang=ruby><span class=n>document_url</span> <span class=o>=</span> <span class=s1>'https://api.dwolla.com/documents/11fe0bab-39bd-42ee-bb39-275afcc050d0'</span>

<span class=c1># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class=n>document</span> <span class=o>=</span> <span class=n>account_token</span><span class=p>.</span><span class=nf>get</span> <span class=n>document_url</span>
<span class=n>document</span><span class=p>.</span><span class=nf>failureReason</span> <span class=c1># =&gt; "ScanNotReadable"</span>

<span class=c1># Using DwollaSwagger - https://github.com/Dwolla/dwolla-swagger-ruby</span>
<span class=n>document</span> <span class=o>=</span> <span class=no>DwollaSwagger</span><span class=o>::</span><span class=no>DocumentsApi</span><span class=p>.</span><span class=nf>get_document</span><span class=p>(</span><span class=n>document_url</span><span class=p>)</span>
<span class=n>document</span><span class=p>.</span><span class=nf>failureReason</span> <span class=c1># =&gt; "ScanNotReadable"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-javascript data-lang=javascript><span class=kd>var</span> <span class=nx>documentUrl</span> <span class=o>=</span> <span class=s1>'https://api.dwolla.com/documents/11fe0bab-39bd-42ee-bb39-275afcc050d0'</span><span class=p>;</span>

<span class=nx>accountToken</span>
  <span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=nx>document_url</span><span class=p>)</span>
  <span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=kd>function</span><span class=p>(</span><span class=nx>res</span><span class=p>)</span> <span class=p>{</span>
    <span class=nx>res</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>failureReason</span><span class=p>;</span> <span class=c1>// =&gt; "ScanNotReadable"</span>
  <span class=p>});</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-python data-lang=python><span class=n>document_url</span> <span class=o>=</span> <span class=s>'https://api.dwolla.com/documents/11fe0bab-39bd-42ee-bb39-275afcc050d0'</span>

<span class=c># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class=n>documents</span> <span class=o>=</span> <span class=n>account_token</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>document_url</span><span class=p>)</span>
<span class=n>documents</span><span class=o>.</span><span class=n>body</span><span class=p>[</span><span class=s>'failureReason'</span><span class=p>]</span> <span class=c># =&gt; 'ScanNotReadable'</span>

<span class=c># Using dwollaswagger - https://github.com/Dwolla/dwolla-swagger-python</span>
<span class=n>documents_api</span> <span class=o>=</span> <span class=n>dwollaswagger</span><span class=o>.</span><span class=n>DocumentsApi</span><span class=p>(</span><span class=n>client</span><span class=p>)</span>
<span class=n>document</span> <span class=o>=</span> <span class=n>documents_api</span><span class=o>.</span><span class=n>get_customer</span><span class=p>(</span><span class=n>document_url</span><span class=p>)</span>
<span class=n>document</span><span class=o>.</span><span class=n>failureReason</span> <span class=c># =&gt; "ScanNotReadable"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-php data-lang=php><span class=cp>&lt;?php</span>
<span class=nv>$aDocument</span> <span class=o>=</span> <span class=s1>'https://api.dwolla.com/documents/11fe0bab-39bd-42ee-bb39-275afcc050d0'</span><span class=p>;</span>

<span class=nv>$documentsApi</span> <span class=o>=</span> <span class=nx>DwollaSwagger\DocumentsApi</span><span class=p>(</span><span class=nv>$apiClient</span><span class=p>);</span>

<span class=nv>$retrieved</span> <span class=o>=</span> <span class=nv>$documentsApi</span><span class=o>-&gt;</span><span class=na>getCustomer</span><span class=p>(</span><span class=nv>$aDocument</span><span class=p>);</span>
<span class=k>print</span><span class=p>(</span><span class=nv>$retrieved</span><span class=o>-&gt;</span><span class=na>failureReason</span><span class=p>);</span> <span class=c1># =&gt; "ScanNotReadable"
</span><span class=cp>?&gt;</span>
</code></pre></div></div><h3>Handling status: <code>suspended</code></h3><p>If the Customer is <code>suspended</code>, there’s no further action you can take to correct this using the API. You’ll need to contact support@dwolla.com for assistance.</p><hr><footer><div class=page-wrap><nav><h6>Product</h6><a href=https://www.dwolla.com/about>Tools & API</a> <a href=https://developers.dwolla.com>Developer</a> <a href=https://www.dwolla.com/bank-transfers>Bank Transfers</a> <a href=https://www.dwolla.com/mass-payments-api>Mass Payments</a> <a href=https://www.dwolla.com/same-day-ach>Same Day ACH</a> <a href=https://www.dwolla.com/white-label>ACH Transfer API</a> <a href=https://www.dwolla.com/ach-transfer-dashboard>Dashboard & Admin</a> <a href=https://www.dwolla.com/dwollajs-bank-verification>Instant Account Verification</a></nav><nav><h6>Account</h6><a href=https://www.dwolla.com/register>Sign up</a> <a href=https://www.dwolla.com/login>Log in</a> <a href=http://help.dwolla.com>Support</a> <a href=https://www.dwolla.com/security>Security</a> <a href="https://www.dwolla.com/legal/privacy/">Privacy</a> <a href="https://www.dwolla.com/legal/tos/">Legal</a></nav><nav><h6>Case Studies</h6><a href="https://www.dwolla.com/updates/case-study-instagram-ad-platform-leverages-dwolla-api-for-payouts/">Ad Platform</a> <a href="https://www.dwolla.com/updates/dwolla-case-study-featuring-goat-for-ach-payouts/">Marketplace Payouts</a> <a href="https://www.dwolla.com/updates/kill-bill-adds-dwolla-to-offer-subscription-billing-with-ach-payments/">Subscription Billing</a> <a href="https://www.dwolla.com/updates/case-study-how-a-leading-rental-management-platform-used-an-ach-api/">Rental Collection</a> <a href="https://www.dwolla.com/updates/case-study-how-sweep-uses-dwolla-ach-api-for-bank-transfers/">Savings Tool</a> <a href="https://www.dwolla.com/updates/solar-investing-platform-uses-dwolla-api-to-power-bank-transfers/">Investment Platform</a> <a href="https://www.dwolla.com/updates/case-study-clear-capital-streamlines-disbursements-with-dwolla/">B2B Disbursements</a></nav><nav><h6>Learn more</h6><a href=https://www.dwolla.com/press>Press</a> <a href=https://www.dwolla.com/updates>Updates</a> <a href=https://www.dwolla.com/careers>Careers</a> <a href=https://www.dwolla.com/contact>Let's talk</a></nav></div></footer><section class=disclaimer><div class=page-wrap><h5>Financial institutions play an important role in the Dwolla network.</h5><p>Dwolla, Inc. is an agent of Veridian Credit Union and Compass Bank and all funds associated with your account in the Dwolla network are held in pooled accounts at Veridian Credit Union and Compass Bank. These funds are not eligible for individual insurance, including FDIC insurance and may not be eligible for share insurance by the National Credit Union Share Insurance Fund. Dwolla, Inc. is the operator of a software platform that communicates user instructions for funds transfers to Veridian Credit Union and Compass Bank.</p></div></section><section class=copyright><div class=page-wrap><div><span>© 2016 Dwolla, Inc.</span> <a href="https://www.dwolla.com/legal/about-our-financial-institution-partner/">Dwolla, Inc. is an agent of its Financial Institution Partner(s)</a></div></div></section></section></div></div></div><script src=//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js></script><script>window.jQuery || document.write('<script src="/_bower_components/jquery/jquery.min.js"><\/script>')</script><script src=/js/script.3a68.js></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
  function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
  e=o.createElement(i);r=o.getElementsByTagName(i)[0];
  e.src='//www.google-analytics.com/analytics.js';
  r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
  ga('create','UA-30404064-1');ga('send','pageview');</script></body></html>