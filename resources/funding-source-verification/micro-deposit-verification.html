<!DOCTYPE html><html class=no-js><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>Micro-deposit verification | Dwolla API</title><meta name=description content="Programmatically verify a bank to initiate a bank transfer."><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=/css/main.2ea9.css><link rel=stylesheet href="//fonts.googleapis.com/css?family=Roboto+Slab:300|Open+Sans:300,400,600,700"><script src=/js/head-scripts.3bcb.js></script><script src=https://cdn.statuspage.io/se-v2.js></script></head><body><!--[if lt IE 8]>
        <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]--><header><div class="header__primary js-two-col-header-primary"><div class=page-wrap><div><a href=https://www.dwolla.com class="logo icon-logo-dwolla-white">Dwolla</a><div class=hamburger><a href="https://www.dwolla.com/contact?b=nav">Let's talk</a> <a class="btn primary js-hamburger">Menu</a></div></div><nav class=js-hamburger-nav><a href=https://www.dwolla.com/about>Product</a> <a href="/">Developer</a> <a href=https://www.dwolla.com/login>Log in</a> <a href=https://accounts.dwolla.com/interest>Sign up</a> <a class="btn primary" href="https://www.dwolla.com/contact?b=nav">Let's talk</a></nav></div></div><nav class="header__secondary js-two-col-nav-toggle"><div class=js-two-col-header-secondary><div class=page-wrap><a href="/guides/">Guides</a> <a href="/resources/" class=active>Resources</a> <a href="https://docsv2.dwolla.com/">API docs</a> <a href=/pages/sdks.html class="no-nav js-two-col-no-toggle">SDKs</a><div class="custom-select custom-select--blue js-global-language-select"><select name=select class=js-language-select><option value=raw>raw</option><option value=php>php</option><option value=ruby>ruby</option><option value=python>python</option><option value=javascript>javascript</option></select><div class=arrow></div></div></div></div></nav></header><div class=content><div class=cnt-two-col><div class=page-wrap><section class="cnt-two-col__nav js-two-col-nav"><div class=close><button class="js-two-col-nav-close icon-cnt-two-col-close"></button></div><div class=language-picker><h6>Language</h6><div class="custom-select custom-select--blue"><select class=js-language-select name=select><option value=raw>raw</option><option value=php selected>php</option><option value=ruby>ruby</option><option value=python>python</option><option value=javascript>javascript</option></select><div class=arrow></div></div></div><!-- nav elements below should be in the same order of the secondary navigation --><nav class="side-nav js-side-nav"><section id=js-sidenav-dropdown class=side-nav__dropdown><h6>Choose a guide</h6><div class=picker id=js-sidenav-dropdown-button><button>Please select a guide</button><div class="icon icon-side-nav-collapse-plus"></div><div class="icon icon-side-nav-collapse-minus"></div></div><nav id=js-sidenav-dropdown-nav><a href="/guides/sandbox-setup/">Getting started in Sandbox</a> <a href="/guides/send-money/">Send money to your users</a> <a href="/guides/receive-money/">Receive money from your users</a> <a href="/guides/transfer-money-between-users/">Transfer money between users</a> <a href="/guides/webhooks/">Webhooks</a> <a href="/guides/migrate-to-v2/">Migrate to v2</a> <a href="/guides/auth/">Dwolla OAuth 2.0</a></nav></section><section class=steps-nav style=display:none><h6>Follow the steps</h6><ol><li><a href=/guides/send-money>Overview: Send money to your users</a><div class=dot></div><ol><li><a href=/guides/send-money/01-white-label-onboarding.html>Option 1: White label</a><div class=dot></div></li><li><a href=/guides/send-money/01-direct-onboarding.html>Option 2: Dwolla Direct</a><div class=dot></div></li></ol></li><li><a href=/guides/send-money/02-fetch-funding-sources.html>Fetch funding sources</a><div class=dot></div></li><li><a href=/guides/send-money/03-create-transfer.html>Create a transfer</a><div class=dot></div></li><li><a href=/guides/send-money/04-check-transfer.html>Check transfer status</a><div class=dot></div></li></ol></section><!-- <section class="side-nav__options" style="display:none">
    <h6>Options</h6>
    <ul>
        <li class="external-link"><a href="https://developers.dwolla.com/dev/pages/guides/masspay" target="_blank"><span class="icon-sidenav-option">MassPay V1</span></a></li>
        <li class="external-link"><a href=""><span class="icon-sidenav-option">Recurring and Scheduled V1</span></a></li>
    </ul>
</section> --><section class=steps-nav style=display:none><h6>Follow the steps</h6><ol><li><a href=/guides/receive-money>Overview</a><div class=dot></div><ol><li><a href=/guides/receive-money/01-white-label-onboarding.html>Option 1: White label</a><div class=dot></div></li><li><a href=/guides/receive-money/01-direct-onboarding.html>Option 2: Dwolla Direct</a><div class=dot></div></li></ol></li><li><a href=/guides/receive-money/02-check-transfer.html>Check transfer status</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>Follow the steps</h6><ol><li><a href=/guides/webhooks>Overview: Webhooks</a><div class=dot></div></li><li><a href=/guides/webhooks/01-obtain-authorization.html>Obtain authorization</a><div class=dot></div></li><li><a href=/guides/webhooks/02-create-subscription.html>Create a webhook subscription</a><div class=dot></div></li><li><a href=/guides/webhooks/03-validating-webhooks.html>Validating webhooks</a><div class=dot></div></li><li><a href=/guides/webhooks/04-process-webhooks.html>Processing webhooks</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>Follow the steps</h6><ol><li><a href=/guides/transfer-money-between-users>Overview: transfer money between your users</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/01-access-token.html>Generate an access token</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/02-create-verified-customer.html>Create a verified customer</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/03-attach-unverified-bank.html>Attach an unverified funding source</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/04-create-unverified-customer.html>Create an unverified Customer</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/05-attach-verified-bank.html>Attach a verified funding source</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/06-create-transfer.html>Create a transfer</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/07-check-transfer.html>Check the status of your transfer</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>Follow the steps</h6><ol><li><a href=/guides/migrate-to-v2>Overview: Migrate to v2</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/01-api-v2-principles.html>API v2 principles</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/02-making-requests.html>Making requests</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/03-authentication.html>Authentication</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/04-sdk-support.html>SDK support</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/05-v1-to-v2-endpoint-changes.html>v1 to v2 endpoint changes</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/06-other-notable-changes.html>Other notable changes</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/07-faq.html>FAQ</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>In this guide</h6><ol><li><a href=/guides/auth>Overview: Dwolla OAuth 2.0</a><div class=dot></div></li><li><a href=/guides/auth/authorization-code-flow.html>Authorization code flow (Co-branded)</a><div class=dot></div><ol><li><a href=/guides/auth/oauth-account-creation.html>OAuth account creation</a><div class=dot></div></li></ol></li><li><a href=/guides/auth/client-credentials-flow.html>Client credentials flow (White Label and/or Webhooks)</a><div class=dot></div></li><li><a href=/guides/auth/using-an-access-token.html>Using an access token</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>In this guide</h6><ol><li><a href=/guides/offsite-gateway>Overview: Off-Site Gateway</a><div class=dot></div></li><li><a href=/guides/offsite-gateway/direct-submit.html>Direct submit option</a><div class=dot></div></li><li><a href=/guides/offsite-gateway/server-to-server.html>Server-to-server option</a><div class=dot></div></li></ol></section><section class=side-nav__options style=display:none><h6>API v1 Resources</h6><ul><li><a href="/guides/offsite-gateway/"><span>Off-Site Gateway</span></a></li><li class=external-link><a href="https://docs.dwolla.com/" target=_blank><span class=icon-sidenav-option>API v1 reference docs</span></a></li></ul></section></nav><nav class="side-nav js-side-nav active"><section><h6>Tools</h6><ul><li><a href=/resources/sandbox-console.html>Sandbox Console</a></li><li><a href=/resources/token-generator.html>Token generator</a></li><li><a href=/resources/changelog.html>Change log</a></li><li class=external-link><a href="http://status.dwolla.com/" target=_blank><span class=icon-sidenav-option>Status</span></a></li></ul><h6>Articles</h6><ul><li><a href=/resources/account-types.html>Account types</a><ul><li><a href=/resources/account-types/traditional-accounts.html>Traditional accounts</a></li><li><a href=/resources/account-types/white-label-accounts.html>White Label accounts</a></li></ul></li><li><a href=/resources/bank-transfer-workflow.html>Bank transfer workflow</a><ul><li><a href=/resources/bank-transfer-workflow/processing-times.html>Processing times</a></li><li><a href=/resources/bank-transfer-workflow/transfer-failures.html>Transfer failures</a></li></ul></li><li><a href=/resources/customer-verification.html>Customer verification</a><ul><li><a href=/resources/customer-verification/personal-verified-customers.html>Personal verified Customers</a></li><li><a href=/resources/customer-verification/business-verified-customers.html>Business verified Customers</a></li><li><a href=/resources/customer-verification/handling-verification-statuses.html>Handling verification statuses</a></li></ul></li><li><a href=/resources/dwolla-js.html>Dwolla.js</a><ul><li><a href=/resources/dwolla-js/add-a-bank-account.html>Add a bank account</a></li><li><a href=/resources/dwolla-js/instant-account-verification.html>Instant account verification</a></li><li><a href=/resources/dwolla-js/on-demand-bank-transfers.html>On-demand bank transfers</a></li></ul></li><li><a href=/resources/facilitator-fee.html>Facilitator Fee</a><ul></ul></li><li><a href=/resources/funding-source-verification.html class=active>Funding source verification</a><ul><li><a href=/resources/funding-source-verification/micro-deposit-verification.html class=active>Micro-deposit verification</a></li><li><a href=/resources/funding-source-verification/instant-account-verification.html>Instant account verification</a></li></ul></li><li><a href=/resources/oauth-refresh-strategies.html>OAuth refresh strategies</a><ul><li><a href=/resources/oauth-refresh-strategies/preemptively-refresh.html>Preemptively refresh authorization</a></li><li><a href=/resources/oauth-refresh-strategies/refresh-on-demand.html>Refresh on-demand</a></li><li><a href=/resources/oauth-refresh-strategies/refresh-best-practices.html>Refresh best practices</a></li></ul></li><li><a href=/resources/testing.html>Testing</a><ul></ul></li></ul></section><section class=side-nav__options><h6>API v1 Resources</h6><ul><li><a href="/guides/offsite-gateway/"><span>Off-site Gateway</span></a></li><li class=external-link><a href="https://docs.dwolla.com/" target=_blank><span class=icon-sidenav-option>API v1 reference docs</span></a></li></ul></section></nav><nav class="side-nav js-side-nav"><section id=js-sidenav-dropdown class=side-nav__dropdown><ul><li><a href=https://docsv2.dwolla.com/#introduction>Introduction</a></li><li><a href=https://docsv2.dwolla.com/#oauth>OAuth</a></li><li><a href=https://docsv2.dwolla.com/#customers>Customers</a></li><li><a href=https://docsv2.dwolla.com/#documents>Documents</a></li><li><a href=https://docsv2.dwolla.com/#sources>Funding Sources</a></li><li><a href=https://docsv2.dwolla.com/#transfers>Transfers</a></li><li><a href=https://docsv2.dwolla.com/#events>Events</a></li><li><a href=https://docsv2.dwolla.com/#subscriptions>Webhook Subscriptions</a></li><li><a href=https://docsv2.dwolla.com/#webhooks>Webhooks</a></li></ul></section></nav></section><section class=cnt-two-col__content><h1>Funding source verification</h1><h2>Micro-deposit verification</h2><p>If you choose the micro-deposit method of bank verification, Dwolla will transfer two deposits of less than $0.10 to your customer&rsquo;s linked bank or credit union account. After <a href=https://docsv2.dwolla.com/#initiate-micro-deposits>initiating micro-deposits</a>, two random amounts will post to your customer’s bank account in 1-2 business days. Once your customer sees these deposits in their account, they need to verify the two amounts in your application. If subscribed to <a href=/guides/webhooks>webhooks</a>, your application will be notified throughout this process via micro-deposit related <a href=https://docsv2.dwolla.com/#events>events</a>.</p><h3>Retrieve the funding source</h3><p>After your customer has added a bank account you&rsquo;ll want to retrieve the funding source to check if a <code>initiate-micro-deposits</code> link relation exists. A link to <code>initiate-micro-deposits</code> will return when an unverified <code>bank</code> funding source is eligible to receive micro-deposits.</p><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-raw data-lang=raw>GET https://api.dwolla.com/funding-sources/e52006c3-7560-4ff1-99d5-b0f3a6f4f909
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
  "_links": {
    "self": {
      "href": "https://api.dwolla.com/funding-sources/e52006c3-7560-4ff1-99d5-b0f3a6f4f909"
    },
    "customer": {
      "href": "https://api.dwolla.com/customers/36e9dcb2-889b-4873-8e52-0c9404ea002a"
    },
    "initiate-micro-deposits": {
      "href": "https://api.dwolla.com/funding-sources/e52006c3-7560-4ff1-99d5-b0f3a6f4f909/micro-deposits"
    }
  },
  "id": "e52006c3-7560-4ff1-99d5-b0f3a6f4f909",
  "status": "unverified",
  "type": "bank",
  "name": "Test checking account",
  "created": "2015-10-23T20:37:57.137Z"
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-ruby data-lang=ruby><span class=n>funding_source_url</span> <span class=o>=</span> <span class=s1>'https://api.dwolla.com/funding-sources/e52006c3-7560-4ff1-99d5-b0f3a6f4f909'</span>

<span class=c1># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class=n>retrieved</span> <span class=o>=</span> <span class=n>account_token</span><span class=p>.</span><span class=nf>get</span> <span class=n>funding_source_url</span>
<span class=n>retrieved</span><span class=p>.</span><span class=nf>name</span> <span class=c1># =&gt; "Test checking account"</span>

<span class=c1># Using DwollaSwagger - https://github.com/Dwolla/dwolla-swagger-ruby</span>
<span class=n>retrieved</span> <span class=o>=</span> <span class=no>DwollaSwagger</span><span class=o>::</span><span class=no>FundingsourcesApi</span><span class=p>.</span><span class=nf>id</span><span class=p>(</span><span class=n>funding_source_url</span><span class=p>)</span>
<span class=n>retrieved</span><span class=p>.</span><span class=nf>name</span> <span class=c1># =&gt; "Test checking account"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-php data-lang=php><span class=cp>&lt;?php</span>
<span class=nv>$fund_source</span> <span class=o>=</span> <span class=s1>'https://api.dwolla.com/funding-sources/e52006c3-7560-4ff1-99d5-b0f3a6f4f909'</span><span class=p>;</span>

<span class=nv>$fsApi</span> <span class=o>=</span> <span class=nx>DwollaSwagger\FundingsourcesApi</span><span class=p>(</span><span class=nv>$apiClient</span><span class=p>);</span>

<span class=nv>$retrieved</span> <span class=o>=</span> <span class=nv>$fsApi</span><span class=o>-&gt;</span><span class=na>id</span><span class=p>(</span><span class=nv>$fund_source</span><span class=p>);</span>
<span class=k>print</span><span class=p>(</span><span class=nv>$retrieved</span><span class=o>-&gt;</span><span class=na>name</span><span class=p>);</span> <span class=c1># =&gt; "Test checking account"
</span><span class=cp>?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-python data-lang=python><span class=n>funding_source_url</span> <span class=o>=</span> <span class=s>'https://api.dwolla.com/funding-sources/e52006c3-7560-4ff1-99d5-b0f3a6f4f909'</span>

<span class=c># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class=n>retrieved</span> <span class=o>=</span> <span class=n>account_token</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>funding_source_url</span><span class=p>)</span>
<span class=n>retrieved</span><span class=o>.</span><span class=n>body</span><span class=p>[</span><span class=s>'name'</span><span class=p>]</span> <span class=c># =&gt; 'Test checking account'</span>

<span class=c># Using dwollaswagger - https://github.com/Dwolla/dwolla-swagger-python</span>
<span class=n>fs_api</span> <span class=o>=</span> <span class=n>dwollaswagger</span><span class=o>.</span><span class=n>FundingsourcesApi</span><span class=p>(</span><span class=n>client</span><span class=p>)</span>
<span class=n>retrieved</span> <span class=o>=</span> <span class=n>fs_api</span><span class=o>.</span><span class=nb>id</span><span class=p>(</span><span class=n>funding_source_url</span><span class=p>)</span>
<span class=n>retrieved</span><span class=o>.</span><span class=n>name</span> <span class=c># =&gt; 'Test checking account'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-javascript data-lang=javascript><span class=kd>var</span> <span class=nx>fundingSourceUrl</span> <span class=o>=</span> <span class=s1>'https://api.dwolla.com/funding-sources/e52006c3-7560-4ff1-99d5-b0f3a6f4f909'</span><span class=p>;</span>

<span class=nx>accountToken</span>
  <span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=nx>fundingSourceUrl</span><span class=p>)</span>
  <span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=kd>function</span><span class=p>(</span><span class=nx>res</span><span class=p>)</span> <span class=p>{</span>
    <span class=nx>res</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>name</span><span class=p>;</span> <span class=c1>// =&gt; "Test checking account"</span>
  <span class=p>});</span>
</code></pre></div></div><h3>Initiate micro-deposits</h3><p>Once you POST to the <a href=https://docsv2.dwolla.com/#initiate-micro-deposits>initiate-micro-deposits</a> link, Dwolla will send two small amounts to your customer&rsquo;s bank or credit union account. If the request is successful, Dwolla returns a <code>HTTP 201</code> and a link to the created micro-deposits resource <code>funding-sources/{id}/micro-deposits</code> in the location header. The micro-deposits resource can be later used to retrieve the status of micro-deposits or verify micro-deposit amounts. If your application is subscribed to webhooks, a webhook will be sent with the <code>microdeposits_added</code> event, notifying your application that micro-deposits are en route to your customer’s bank account.</p><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-raw data-lang=raw>POST https://api-uat.dwolla.com/funding-sources/e52006c3-7560-4ff1-99d5-b0f3a6f4f909/micro-deposits
Authorization: Bearer 8tJjM7iTjujLthkbVPMUcHLqMNw4uv5kG712g9j1RRBHplGpwo
Content-Type: application/vnd.dwolla.v1.hal+json
Accept: application/vnd.dwolla.v1.hal+json
Cache-Control: no-cache

HTTP/1.1 201 Created
Location: https://api.dwolla.com/funding-sources/e52006c3-7560-4ff1-99d5-b0f3a6f4f909/micro-deposits
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-ruby data-lang=ruby><span class=n>retrieved</span> <span class=o>=</span> <span class=s1>'https://api-uat.dwolla.com/funding-sources/e52006c3-7560-4ff1-99d5-b0f3a6f4f909'</span>

<span class=c1># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class=n>account_token</span><span class=p>.</span><span class=nf>post</span> <span class=s2>"</span><span class=si>#{</span><span class=n>funding_source_url</span><span class=si>}</span><span class=s2>/micro-deposits"</span>

<span class=c1># Using DwollaSwagger - https://github.com/Dwolla/dwolla-swagger-ruby</span>
<span class=n>micro_deposits</span> <span class=o>=</span> <span class=no>DwollaSwagger</span><span class=o>::</span><span class=no>FundingsourcesApi</span><span class=p>.</span><span class=nf>micro_deposits</span><span class=p>(</span><span class=n>retrieved</span><span class=p>)</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-javascript data-lang=javascript><span class=kd>var</span> <span class=nx>retrieved</span> <span class=o>=</span> <span class=s1>'https://api-uat.dwolla.com/funding-sources/e52006c3-7560-4ff1-99d5-b0f3a6f4f909'</span><span class=p>;</span>

<span class=nx>accountToken</span><span class=p>.</span><span class=nx>post</span><span class=p>(</span><span class=err>`#</span><span class=p>{</span><span class=nx>retrieved</span><span class=p>}</span><span class=sr>/micro-deposits`</span><span class=se>)</span><span class=err>;
</span></code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-python data-lang=python><span class=n>retrieved</span> <span class=o>=</span> <span class=s>'https://api-uat.dwolla.com/funding-sources/e52006c3-7560-4ff1-99d5-b0f3a6f4f909'</span>

<span class=c># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class=n>account_token</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s>'</span><span class=si>%</span><span class=s>s/micro-deposits'</span> <span class=o>%</span> <span class=n>retrieved</span><span class=p>)</span>

<span class=c># Using dwollaswagger - https://github.com/Dwolla/dwolla-swagger-python</span>
<span class=n>fs_api</span> <span class=o>=</span> <span class=n>dwollaswagger</span><span class=o>.</span><span class=n>FundingsourcesApi</span><span class=p>(</span><span class=n>client</span><span class=p>)</span>
<span class=n>micro_deposits</span> <span class=o>=</span> <span class=n>fs_api</span><span class=o>.</span><span class=n>micro_deposits</span><span class=p>(</span><span class=n>retrieved</span><span class=p>)</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-php data-lang=php><span class=cp>&lt;?php</span>
<span class=nv>$fsApi</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>DwollaSwagger\FundingsourcesApi</span><span class=p>(</span><span class=nv>$apiClient</span><span class=p>);</span>
<span class=nv>$micro_deposits</span> <span class=o>=</span> <span class=nv>$fsApi</span><span class=o>-&gt;</span><span class=na>micro_deposits</span><span class=p>(</span><span class=nv>$retrieved</span><span class=p>);</span>
<span class=cp>?&gt;</span>
</code></pre></div></div><h3>Verify micro-deposits</h3><p>In the Dwolla production environment, you must wait until the micro-deposits actually post to the customer’s bank account before the account can be verified, which can take 1-2 business days. A <code>microdeposits_completed</code> event will be triggered once micro-deposits have successfully posted to the bank. Once micro-deposits have completed, a <code>verify-micro-deposits</code> link relation will return on the funding source letting your application know the funding source can be verified.</p><p><strong>Note</strong>: In the Sandbox environment, any amount <strong>below</strong> $0.10 will allow you to verify the account immediately.</p><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-raw data-lang=raw>POST /funding-sources/e52006c3-7560-4ff1-99d5-b0f3a6f4f909/micro-deposits
Authorization: Bearer 8tJjM7iTjujLthkbVPMUcHLqMNw4uv5kG712g9j1RRBHplGpwo
Content-Type: application/vnd.dwolla.v1.hal+json
Accept: application/vnd.dwolla.v1.hal+json

{
    "amount1": {
        "value": "0.03",
        "currency": "USD"
    },
    "amount2": {
        "value": "0.09",
        "currency": "USD"
    }
}

HTTP 200 OK
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-ruby data-lang=ruby><span class=n>funding_source_url</span> <span class=o>=</span> <span class=s1>'https://api-uat.dwolla.com/funding-sources/e52006c3-7560-4ff1-99d5-b0f3a6f4f909'</span>
<span class=n>request_body</span> <span class=o>=</span> <span class=p>{</span>
  <span class=ss>:amount1</span> <span class=o>=&gt;</span> <span class=p>{</span>
    <span class=ss>:value</span> <span class=o>=&gt;</span> <span class=s2>"0.03"</span><span class=p>,</span>
    <span class=ss>:currency</span> <span class=o>=&gt;</span> <span class=s2>"USD"</span>
  <span class=p>},</span>
  <span class=ss>:amount2</span> <span class=o>=&gt;</span> <span class=p>{</span>
    <span class=ss>:value</span> <span class=o>=&gt;</span> <span class=s2>"0.09"</span><span class=p>,</span>
    <span class=ss>:currency</span> <span class=o>=&gt;</span> <span class=s2>"USD"</span>
  <span class=p>}</span>
<span class=p>}</span>

<span class=c1># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class=n>account_token</span><span class=p>.</span><span class=nf>post</span> <span class=s2>"</span><span class=si>#{</span><span class=n>funding_source_url</span><span class=si>}</span><span class=s2>/micro-deposits"</span><span class=p>,</span> <span class=n>request_body</span>

<span class=c1># Using DwollaSwagger - https://github.com/Dwolla/dwolla-swagger-ruby</span>
<span class=no>DwollaSwagger</span><span class=o>::</span><span class=no>FundingsourcesApi</span><span class=p>.</span><span class=nf>micro_deposits</span><span class=p>(</span><span class=n>funding_source_url</span><span class=p>,</span> <span class=ss>body: </span><span class=n>request_body</span><span class=p>)</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-javascript data-lang=javascript><span class=kd>var</span> <span class=nx>fundingSourceUrl</span> <span class=o>=</span> <span class=s1>'https://api-uat.dwolla.com/funding-sources/e52006c3-7560-4ff1-99d5-b0f3a6f4f909'</span><span class=p>;</span>
<span class=kd>var</span> <span class=nx>requestBody</span> <span class=o>=</span> <span class=p>{</span>
  <span class=na>amount1</span><span class=p>:</span> <span class=p>{</span>
    <span class=na>value</span><span class=p>:</span> <span class=s1>'0.03'</span><span class=p>,</span>
    <span class=na>currency</span><span class=p>:</span> <span class=s1>'USD'</span>
  <span class=p>},</span>
  <span class=na>amount2</span><span class=p>:</span> <span class=p>{</span>
    <span class=na>value</span><span class=p>:</span> <span class=s1>'0.09'</span><span class=p>,</span>
    <span class=na>currency</span><span class=p>:</span> <span class=s1>'USD'</span>
  <span class=p>}</span>
<span class=p>};</span>

<span class=nx>accountToken</span><span class=p>.</span><span class=nx>post</span><span class=p>(</span><span class=err>`</span><span class=nx>$</span><span class=p>{</span><span class=nx>fundingSourceUrl</span><span class=p>}</span><span class=sr>/micro-deposits`, requestBody</span><span class=se>)</span><span class=err>;
</span></code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-python data-lang=python><span class=n>funding_source_url</span> <span class=o>=</span> <span class=s>'https://api-uat.dwolla.com/funding-sources/e52006c3-7560-4ff1-99d5-b0f3a6f4f909'</span>
<span class=n>request_body</span> <span class=o>=</span> <span class=p>{</span>
    <span class=s>"amount1"</span><span class=p>:</span> <span class=p>{</span>
        <span class=s>"value"</span><span class=p>:</span> <span class=s>"0.03"</span><span class=p>,</span>
        <span class=s>"currency"</span><span class=p>:</span> <span class=s>"USD"</span>
    <span class=p>},</span>
    <span class=s>"amount2"</span><span class=p>:</span> <span class=p>{</span>
        <span class=s>"value"</span><span class=p>:</span> <span class=s>"0.09"</span><span class=p>,</span>
        <span class=s>"currency"</span><span class=p>:</span> <span class=s>"USD"</span>
    <span class=p>}</span>
<span class=p>}</span>

<span class=c># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class=n>account_token</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s>'</span><span class=si>%</span><span class=s>s/micro-deposits'</span> <span class=o>%</span> <span class=n>funding_source_url</span><span class=p>,</span> <span class=n>request_body</span><span class=p>)</span>

<span class=c># Using dwollaswagger - https://github.com/Dwolla/dwolla-swagger-python</span>
<span class=n>fs_api</span> <span class=o>=</span> <span class=n>dwollaswagger</span><span class=o>.</span><span class=n>FundingsourcesApi</span><span class=p>(</span><span class=n>client</span><span class=p>)</span>
<span class=n>fs_api</span><span class=o>.</span><span class=n>micro_deposits</span><span class=p>(</span><span class=n>funding_source_url</span><span class=p>,</span> <span class=n>body</span> <span class=o>=</span> <span class=n>request_body</span><span class=p>)</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-php data-lang=php><span class=cp>&lt;?php</span>
<span class=nv>$fundingSourceUrl</span> <span class=o>=</span> <span class=s1>'https://api-uat.dwolla.com/funding-sources/e52006c3-7560-4ff1-99d5-b0f3a6f4f909'</span><span class=p>;</span>

<span class=nv>$fsApi</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>DwollaSwagger\FundingsourcesApi</span><span class=p>(</span><span class=nv>$apiClient</span><span class=p>);</span>

<span class=nv>$fsApi</span><span class=o>-&gt;</span><span class=na>micro_deposits</span><span class=p>(</span><span class=nv>$fundingSourceUrl</span><span class=p>,</span> <span class=p>[</span>
  <span class=s1>'amount1'</span> <span class=o>=&gt;</span> <span class=p>[</span>
    <span class=s1>'value'</span> <span class=o>=&gt;</span> <span class=s1>'0.03'</span><span class=p>,</span>
    <span class=s1>'currency'</span> <span class=o>=&gt;</span> <span class=s1>'USD'</span>
  <span class=p>],</span>
  <span class=s1>'amount2'</span> <span class=o>=&gt;</span> <span class=p>[</span>
    <span class=s1>'value'</span> <span class=o>=&gt;</span> <span class=s1>'0.09'</span><span class=p>,</span>
    <span class=s1>'currency'</span> <span class=o>=&gt;</span> <span class=s1>'USD'</span>
  <span class=p>]</span>
<span class=p>]);</span>
<span class=cp>?&gt;</span>
</code></pre></div></div><h3>Handle failed verification attempts</h3><p>Your customer will have only three attempts to correctly input the two posted micro-deposit amounts. If your customer reaches the max attempts allowed, a <code>microdeposits_maxattempts</code> <a href=https://docsv2.dwolla.com/#events>event</a> will be triggered and they will no longer be allowed to verify the funding source using those same two posted micro-deposit amounts. In order to retry bank account verification via micro-deposits, the following steps will need to be taken by your customer and application:</p><ol><li><a href=https://docsv2.dwolla.com/#remove-a-funding-source>Removal of the funding source</a> with failed micro-deposit verification attempts.</li><li>Wait 48 hours after the initial funding source was added to re-add the funding source.</li><li>Initiate new micro-deposits to the funding source.</li><li>Verify the funding source using the new posted micro-deposit amounts.</li></ol><p>Links returned on the funding source resource, either <code>initiate-micro-deposits</code> or <code>verify-micro-deposits</code>, will give your application insight into whether the funding source is eligible to receive or verify micro-deposits.</p><hr><footer><div class=page-wrap><nav><h6>Product</h6><a href=https://www.dwolla.com/access-api>Access API</a></nav><nav><h6>Features</h6><a href=https://www.dwolla.com/bank-transfers>Bank Transfers</a> <a href=https://www.dwolla.com/mass-payments-api>Mass Payments</a> <a href=https://www.dwolla.com/same-day-ach>Same Day ACH</a> <a href=https://www.dwolla.com/white-label>White Label</a> <a href=https://www.dwolla.com/ach-transfer-dashboard>Dashboard & Admin</a> <a href=https://www.dwolla.com/dwollajs-bank-verification>Instant Bank Account Verification</a></nav><nav><h6>Account</h6><a href=https://accounts.dwolla.com/interest>Sign up</a> <a href=https://www.dwolla.com/login>Log in</a> <a href=http://help.dwolla.com>Support</a> <a href=https://www.dwolla.com/security>Security</a> <a href="https://www.dwolla.com/legal/privacy/">Privacy</a> <a href="https://www.dwolla.com/legal/tos/">Legal</a></nav><nav><h6>Case Studies</h6><a href="https://www.dwolla.com/updates/case-study-delivery-platform-leverages-dwolla-ach-api-for-payouts/">On-Demand Payouts</a> <a href="https://www.dwolla.com/updates/case-study-instagram-ad-platform-leverages-dwolla-api-for-payouts/">Ad Platform</a> <a href="https://www.dwolla.com/updates/dwolla-case-study-featuring-goat-for-ach-payouts/">Marketplace Payouts</a> <a href="https://www.dwolla.com/updates/kill-bill-adds-dwolla-to-offer-subscription-billing-with-ach-payments/">Subscription Billing</a> <a href="https://www.dwolla.com/updates/case-study-how-a-leading-rental-management-platform-used-an-ach-api/">Rental Collection</a> <a href="https://www.dwolla.com/updates/case-study-how-sweep-uses-dwolla-ach-api-for-bank-transfers/">Savings Tool</a> <a href="https://www.dwolla.com/updates/solar-investing-platform-uses-dwolla-api-to-power-bank-transfers/">Investment Platform</a> <a href="https://www.dwolla.com/updates/case-study-clear-capital-streamlines-disbursements-with-dwolla/">B2B Disbursements</a></nav><nav><h6>Learn more</h6><a href=https://www.dwolla.com/contact>Let's talk</a> <a href=https://developers.dwolla.com>Developer Docs</a> <a href=https://www.dwolla.com/updates>Updates</a> <a href=https://www.dwolla.com/press>Press</a> <a href=https://www.dwolla.com/careers>Careers</a></nav></div></footer><section class=disclaimer><div class=page-wrap><h5>Financial institutions play an important role in the Dwolla network.</h5><p>Dwolla, Inc. is an agent of Veridian Credit Union and Compass Bank and all funds associated with your account in the Dwolla network are held in pooled accounts at Veridian Credit Union and Compass Bank. These funds are not eligible for individual insurance, including FDIC insurance and may not be eligible for share insurance by the National Credit Union Share Insurance Fund. Dwolla, Inc. is the operator of a software platform that communicates user instructions for funds transfers to Veridian Credit Union and Compass Bank.</p></div></section><section class=copyright><div class=page-wrap><div><span>© 2016 Dwolla, Inc.</span> <a href="https://www.dwolla.com/legal/about-our-financial-institution-partner/">Dwolla, Inc. is an agent of its Financial Institution Partner(s)</a></div></div></section></section></div></div></div><script src=//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js></script><script>window.jQuery || document.write('<script src="/_bower_components/jquery/jquery.min.js"><\/script>')</script><script src=/js/script.3a68.js></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
  function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
  e=o.createElement(i);r=o.getElementsByTagName(i)[0];
  e.src='//www.google-analytics.com/analytics.js';
  r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
  ga('create','UA-30404064-1');ga('send','pageview');</script></body></html>