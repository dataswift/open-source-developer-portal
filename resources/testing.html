<!DOCTYPE html><html class=no-js><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>Testing | Dwolla API</title><meta name=description content="In the Dwolla Sandbox environment, simulate various test cases using sentinel values or actionable buttons."><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=/css/main.17b8.css><link rel=stylesheet href="//fonts.googleapis.com/css?family=Roboto+Slab:300|Open+Sans:300,400,600,700"><script src=/js/head-scripts.ca8c.js></script><script src=https://cdn.statuspage.io/se-v2.js></script></head><body><!--[if lt IE 8]>
        <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]--><header><div class="header__primary js-two-col-header-primary"><div class=page-wrap><div><a href=https://www.dwolla.com class="logo icon-logo-dwolla-white">Dwolla</a><div class=hamburger><a href="https://www.dwolla.com/contact?b=nav">Let's talk</a> <a class="btn primary js-hamburger">Menu</a></div></div><nav class=js-hamburger-nav><a href=https://www.dwolla.com/about>About</a> <a href=https://www.dwolla.com/products>Products</a> <a href="/">Developers</a> <a href=https://www.dwolla.com/login>Log in</a> <a href=https://accounts.dwolla.com/interest>Sign up</a> <a class="btn primary" href="https://www.dwolla.com/contact?b=nav">Let's talk</a></nav></div></div><nav class="header__secondary js-two-col-nav-toggle"><div class=js-two-col-header-secondary><div class=page-wrap><a href="/guides/">Guides</a> <a href="/resources/" class=active>Resources</a> <a href="https://docsv2.dwolla.com/">API docs</a> <a href=/pages/sdks.html class="no-nav js-two-col-no-toggle">SDKs</a><div class="custom-select custom-select--blue js-global-language-select"><select name=select class=js-language-select><option value=raw>raw</option><option value=php>php</option><option value=ruby>ruby</option><option value=python>python</option><option value=javascript>javascript</option></select><div class=arrow></div></div></div></div></nav></header><div class=content><div class=cnt-two-col><div class=page-wrap><section class="cnt-two-col__nav js-two-col-nav"><div class=close><button class="js-two-col-nav-close icon-cnt-two-col-close"></button></div><div class=language-picker><h6>Language</h6><div class="custom-select custom-select--blue"><select class=js-language-select name=select><option value=raw>raw</option><option value=php selected>php</option><option value=ruby>ruby</option><option value=python>python</option><option value=javascript>javascript</option></select><div class=arrow></div></div></div><!-- nav elements below should be in the same order of the secondary navigation --><nav class="side-nav js-side-nav"><section id=js-sidenav-dropdown class=side-nav__dropdown><h6>Choose a guide</h6><div class=picker id=js-sidenav-dropdown-button><button>Please select a guide</button><div class="icon icon-side-nav-collapse-plus"></div><div class="icon icon-side-nav-collapse-minus"></div></div><nav id=js-sidenav-dropdown-nav><a href="/guides/sandbox-setup/">Getting started in Sandbox</a> <a href="/guides/send-money/">Send money to your users</a> <a href="/guides/receive-money/">Receive money from your users</a> <a href="/guides/transfer-money-between-users/">Transfer money between users</a> <a href="/guides/auth/">Authorization</a> <a href="/guides/webhooks/">Webhooks</a> <a href="/guides/migrate-to-v2/">Migrate to the Access API</a></nav></section><section class=steps-nav style=display:none><h6>Follow the steps</h6><ol><li><a href=/guides/send-money>Overview: Send money to your users</a><div class=dot></div><ol><li><a href=/guides/send-money/access-api-onboarding.html>Option 1: Access API</a><div class=dot></div></li><li><a href=/guides/send-money/transfer-onboarding.html>Option 2: Transfer</a><div class=dot></div></li></ol></li><li><a href=/guides/send-money/fetch-funding-sources.html>Fetch funding sources</a><div class=dot></div></li><li><a href=/guides/send-money/create-transfer.html>Create a transfer</a><div class=dot></div></li><li><a href=/guides/send-money/check-transfer.html>Check transfer status</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>Follow the steps</h6><ol><li><a href=/guides/receive-money>Overview</a><div class=dot></div><ol><li><a href=/guides/receive-money/access-api-onboarding.html>Option 1: Access API</a><div class=dot></div></li><li><a href=/guides/receive-money/transfer-onboarding.html>Option 2: Transfer</a><div class=dot></div></li></ol></li><li><a href=/guides/receive-money/check-transfer.html>Check transfer status</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>Follow the steps</h6><ol><li><a href=/guides/transfer-money-between-users>Overview: transfer money between your users</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/obtain-access-token.html>Obtain an application access token</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/create-verified-customer.html>Create a Verified Customer</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/attach-unverified-bank.html>Attach an unverified funding source</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/create-unverified-customer.html>Create an Unverified Customer</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/attach-verified-bank.html>Attach a verified funding source</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/create-transfer.html>Create a transfer</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/check-transfer.html>Check the status of your transfer</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>In this guide</h6><ol><li><a href=/guides/auth>Overview: Authorization</a><div class=dot></div></li><li><a href=/guides/auth/authorization-code-flow.html>Authorization code flow (Transfer)</a><div class=dot></div><ol><li><a href=/guides/auth/oauth-account-creation.html>OAuth account creation</a><div class=dot></div></li></ol></li><li><a href=/guides/auth/client-credentials-flow.html>Client credentials flow (Access API and/or Webhooks)</a><div class=dot></div></li><li><a href=/guides/auth/using-an-access-token.html>Using an access token</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>Follow the steps</h6><ol><li><a href=/guides/webhooks>Overview: Webhooks</a><div class=dot></div></li><li><a href=/guides/webhooks/obtain-authorization.html>Obtain authorization</a><div class=dot></div></li><li><a href=/guides/webhooks/create-subscription.html>Create a webhook subscription</a><div class=dot></div></li><li><a href=/guides/webhooks/validating-webhooks.html>Validating webhooks</a><div class=dot></div></li><li><a href=/guides/webhooks/process-webhooks.html>Processing webhooks</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>Follow the steps</h6><ol><li><a href=/guides/migrate-to-v2>Overview: Migrate to the Access API</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/01-api-v2-principles.html>Access API principles</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/02-making-requests.html>Making requests</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/03-authentication.html>Authentication</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/04-sdk-support.html>SDK support</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/05-v1-to-v2-endpoint-changes.html>v1 to Access API endpoint changes</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/06-other-notable-changes.html>Other notable changes</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/07-faq.html>FAQ</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>In this guide</h6><ol><li><a href=/guides/offsite-gateway>Overview: Off-Site Gateway</a><div class=dot></div></li><li><a href=/guides/offsite-gateway/direct-submit.html>Direct submit option</a><div class=dot></div></li><li><a href=/guides/offsite-gateway/server-to-server.html>Server-to-server option</a><div class=dot></div></li></ol></section><section class=side-nav__options style=display:none><h6>API v1 Resources</h6><ul><li><a href="/guides/offsite-gateway/"><span>Off-Site Gateway</span></a></li><li class=external-link><a href="https://docs.dwolla.com/" target=_blank><span class=icon-sidenav-option>API v1 reference docs</span></a></li></ul></section></nav><nav class="side-nav js-side-nav active"><section><h6>Tools</h6><ul><li><a href=/resources/sandbox-console.html>Sandbox Console</a></li><li><a href=/resources/token-generator.html>Token generator</a></li><li><a href=/resources/changelog.html>Change log</a></li><li class=external-link><a href="http://status.dwolla.com/" target=_blank><span class=icon-sidenav-option>Status</span></a></li></ul><h6>Articles</h6><ul><li><a href=/resources/account-types.html>Account types</a><ul><li><a href=/resources/account-types/traditional-accounts.html>Traditional accounts</a></li><li><a href=/resources/account-types/access-api-accounts.html>Access API accounts</a></li></ul></li><li><a href=/resources/bank-transfer-workflow.html>Bank transfer workflow</a><ul><li><a href=/resources/bank-transfer-workflow/processing-times.html>Processing times</a></li><li><a href=/resources/bank-transfer-workflow/transfer-failures.html>Transfer failures</a></li></ul></li><li><a href=/resources/facilitator-fee.html>Facilitator Fee</a><ul></ul></li><li><a href=/resources/oauth-refresh-strategies.html>OAuth refresh strategies</a><ul><li><a href=/resources/oauth-refresh-strategies/preemptively-refresh.html>Preemptively refresh authorization</a></li><li><a href=/resources/oauth-refresh-strategies/refresh-on-demand.html>Refresh on-demand</a></li><li><a href=/resources/oauth-refresh-strategies/refresh-best-practices.html>Refresh best practices</a></li></ul></li><li><a href=/resources/testing.html class=active>Testing</a><ul></ul></li></ul><h6>Access API Articles</h6><ul><li><a href=/resources/customer-verification.html>Customer verification</a><ul><li><a href=/resources/customer-verification/personal-verified-customers.html>Personal verified Customers</a></li><li><a href=/resources/customer-verification/business-verified-customers.html>Business verified Customers</a></li><li><a href=/resources/customer-verification/handling-verification-statuses.html>Handling verification statuses</a></li></ul></li><li><a href=/resources/dwolla-js.html>Dwolla.js</a><ul><li><a href=/resources/dwolla-js/add-a-bank-account.html>Add a bank account</a></li><li><a href=/resources/dwolla-js/instant-account-verification.html>Instant account verification</a></li><li><a href=/resources/dwolla-js/on-demand-bank-transfers.html>On-demand bank transfers</a></li></ul></li><li><a href=/resources/funding-source-verification.html>Funding source verification</a><ul><li><a href=/resources/funding-source-verification/micro-deposit-verification.html>Micro-deposit verification</a></li><li><a href=/resources/funding-source-verification/instant-account-verification.html>Instant account verification</a></li></ul></li></ul></section></nav><nav class="side-nav js-side-nav"><section id=js-sidenav-dropdown class=side-nav__dropdown><ul><li><a href=https://docsv2.dwolla.com/#introduction>Introduction</a></li><li><a href=https://docsv2.dwolla.com/#oauth>OAuth</a></li><li><a href=https://docsv2.dwolla.com/#customers>Customers</a></li><li><a href=https://docsv2.dwolla.com/#documents>Documents</a></li><li><a href=https://docsv2.dwolla.com/#funding-sources>Funding Sources</a></li><li><a href=https://docsv2.dwolla.com/#transfers>Transfers</a></li><li><a href=https://docsv2.dwolla.com/#events>Events</a></li><li><a href=https://docsv2.dwolla.com/#webhook-subscriptions>Webhook Subscriptions</a></li><li><a href=https://docsv2.dwolla.com/#webhooks>Webhooks</a></li></ul></section></nav></section><section class=cnt-two-col__content><h1 id=testing>Testing</h1><h2 id=overview>Overview</h2><p>The Sandbox environment allows you to test the Dwolla Access API without any real-world impact, meaning that no real personal identifying information or financial data is used and bank transfer processing does not run as it would in production. Since dummy data is utilized in the Sandbox environment, Dwolla provides a way to simulate various test cases by providing either sentinel values that can be used when making API requests or buttons that trigger certain actions (e.g. simulate bank transfer processing).</p><h3 id=simulate-bank-transfer-processing>Simulate bank transfer processing</h3><p>The Sandbox environment does not replicate any bank transfer processes, so a pending transfer will not clear or fail automatically after a few business days as it would in production. The transfer will simply remain in the pending state indefinitely.</p><p><img src=/images/process-bank-transfers.c6a8.png alt="Screenshot of process bank transfers button" title="Process bank transfers button"></p><p>A “Process bank transfers” button is available in the <a href=https://dashboard-uat.dwolla.com>Dwolla Dashboard</a>. This button allows you to simulate bank transfer processing in the Sandbox. Once the button is clicked, Dwolla will process or fail (see below for how-to trigger ACH failures) the last 500 bank transfers that occurred on your Sandbox account or the Access API Customer accounts you manage. <strong>Note:</strong> If a bank to bank transaction is initiated between two accounts, you&rsquo;ll want to click &ldquo;Process bank transfers&rdquo; twice in order to process both sides of the transaction (debit and credit). Processing for bank transfers will also include initiated micro-deposits. If your application is <a href=https://docsv2.dwolla.com/#webhook-subscriptions>subscribed to webhooks</a>, notifications will be sent, including all transfer or micro-deposit related events, letting your application know that transfers have processed or failed.</p><h3 id=trigger-ach-failures>Trigger ACH failures</h3><p>Transfers to or from a bank account can fail for a number of reasons (e.g. insufficient funds, invalid account number, etc. ). When a bank transfer fails, the associated financial institution that rejected the transaction assigns an ACH return code and a transfer failure event is then triggered in Dwolla. Dwolla allows you to trigger various bank transfer failures by specifying an “R” code in the funding source <code>name</code> parameter when creating or <a href=https://docsv2.dwolla.com/#update-a-funding-source>updating a funding source</a> for a Dwolla Account or Access API Customer. When a <a href=https://docsv2.dwolla.com/#initiate-a-transfer>transfer is initiated</a> using a funding source that has an “R” code assigned to its name, a transfer failure event will trigger and the status will update to failed when you click the “Process bank transfers” button (as mentioned above).</p><p>Dwolla allows you to pass in a few different sentinel values that are used to test different bank transfer failure scenarios. The list of available sentinel values cover the most common uses cases where ACH return codes can be triggered in production. Reference the list of codes in the following table:</p><table><thead><tr><th>Return code</th><th>Description</th></tr></thead><tbody><tr><td>R01</td><td>Insufficient Funds: This value is used to simulate funds failing from the source bank account (ACH debit).</td></tr><tr><td>R03</td><td>No Account/Unable to Locate Account: This value is primarily used to simulate funds failing to the destination bank account (ACH credit). The funding source will be automatically removed from Dwolla when this return code is triggered.</td></tr><tr><td>R01-late</td><td>This value is used to simulate funds failing from the source bank account post-settlement. Note: You must click “Process bank transfers” twice in order to test this scenario.</td></tr><tr><td>R03-late</td><td>This value is primarily used to simulate funds failing to the destination bank post-settlement. The funding source will be automatically removed from Dwolla when this return code is triggered. Note: You must click “Process bank transfers” twice in order to test this scenario.</td></tr></tbody></table><h5 id=example-of-using-a-sentinel-value-for-testing-bank-transfer-failures>Example of using a sentinel value for testing bank transfer failures</h5><p>This example assumes that a funding source has already been attached to an account. Once the funding source <code>name</code> has been updated to reflect the ACH failure scenario you want to test then you can <a href=https://docsv2.dwolla.com/#initiate-a-transfer>initiate a transfer</a> to or from that funding source via the API.</p><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-raw data-lang=raw>POST https://api.dwolla.com/funding-sources/692486f8-29f6-4516-a6a5-c69fd2ce854c
Accept: application/vnd.dwolla.v1.hal+json
Content-Type: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
  "name": "R03"
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-ruby data-lang=ruby><span class=n>funding_source_url</span> <span class=o>=</span> <span class=s1>'https://api.dwolla.com/funding-sources/692486f8-29f6-4516-a6a5-c69fd2ce854c'</span>
<span class=n>request_body</span> <span class=o>=</span> <span class=p>{</span>
      <span class=s2>"name"</span> <span class=o>=&gt;</span> <span class=s2>"R03"</span><span class=p>,</span>
<span class=p>}</span>

<span class=c1># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class=n>funding_source</span> <span class=o>=</span> <span class=n>account_token</span><span class=p>.</span><span class=nf>post</span> <span class=s2>"</span><span class=si>#{</span><span class=n>funding_source_url</span><span class=si>}</span><span class=s2>"</span><span class=p>,</span> <span class=n>request_body</span>
<span class=n>funding_source</span><span class=p>.</span><span class=nf>name</span> <span class=c1># =&gt; "R03"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-php data-lang=php>/**
 *  No example for this language yet. Coming soon.
 **/
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-python data-lang=python><span class=n>funding_source_url</span> <span class=o>=</span> <span class=s>'https://api.dwolla.com/funding-sources/692486f8-29f6-4516-a6a5-c69fd2ce854c'</span>
<span class=n>request_body</span> <span class=o>=</span> <span class=p>{</span>
  <span class=s>"name"</span><span class=p>:</span> <span class=s>"R03"</span>
<span class=p>}</span>

<span class=c># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class=n>funding_source</span> <span class=o>=</span> <span class=n>account_token</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s>'funding-sources'</span><span class=p>,</span> <span class=n>request_body</span><span class=p>)</span>
<span class=n>funding_source</span><span class=o>.</span><span class=n>body</span><span class=p>[</span><span class=s>'name'</span><span class=p>]</span> <span class=c># =&gt; 'R03'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-javascript data-lang=javascript><span class=kd>var</span> <span class=nx>fundingSourceUrl</span> <span class=o>=</span> <span class=s1>'https://api.dwolla.com/funding-sources/692486f8-29f6-4516-a6a5-c69fd2ce854c'</span><span class=p>;</span>
<span class=kd>var</span> <span class=nx>requestBody</span> <span class=o>=</span> <span class=p>{</span>
  <span class=na>name</span><span class=p>:</span> <span class=s2>"R03"</span>
<span class=p>};</span>

<span class=nx>accountToken</span>
  <span class=p>.</span><span class=nx>post</span><span class=p>(</span><span class=nx>fundingSourceUrl</span><span class=p>,</span> <span class=nx>requestBody</span><span class=p>)</span>
  <span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=nx>res</span> <span class=o>=&gt;</span> <span class=nx>res</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>name</span><span class=p>);</span> <span class=c1>// =&gt; "R03"</span>
</code></pre></div></div><h3 id=testing-customer-verification-statuses>Testing Customer verification statuses</h3><p>There are various reasons an Access API Verified Customer will result in a status other than “verified” after the initial Customer creation which your app will want to be prepared to handle. In production, Dwolla will place the Verified Customer in either the <code>retry</code>, <code>document</code>, <code>verified</code>, or <code>suspended</code> state of verification after an initial identity verification check. To simulate the various statuses in the Sandbox, submit either <code>verified</code>, <code>retry</code>, <code>document</code>, or <code>suspended</code> in the firstName parameter in order to create a new Verified Customer with that status. Reference the example below, as well as our resource article on handling verification statuses.</p><h5 id=example-of-using-a-sentinel-value-for-testing-verification-statuses>Example of using a sentinel value for testing verification statuses</h5><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-raw data-lang=raw>POST /customers
Content-Type: application/vnd.dwolla.v1.hal+json
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

{
  "firstName": "retry",
  "lastName": "Doe",
  "email": "testRetry@nomail.net",
  "type": "personal",
  "address1": "99-99 33rd St",
  "city": "Some City",
  "state": "NY",
  "postalCode": "11101",
  "dateOfBirth": "1970-01-01",
  "ssn": "1234"
}

HTTP/1.1 201 Created
Location: https://api.dwolla.com/customers/FC451A7A-AE30-4404-AB95-E3553FCD733F
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-php data-lang=php><span class=cp>&lt;?php</span>
<span class=nv>$customersApi</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>DwollaSwagger\CustomersApi</span><span class=p>(</span><span class=nv>$apiClient</span><span class=p>);</span>

<span class=nv>$customer</span> <span class=o>=</span> <span class=nv>$customersApi</span><span class=o>-&gt;</span><span class=na>create</span><span class=p>([</span>
  <span class=s1>'firstName'</span> <span class=o>=&gt;</span> <span class=s1>'retry'</span><span class=p>,</span>
  <span class=s1>'lastName'</span> <span class=o>=&gt;</span> <span class=s1>'Doe'</span><span class=p>,</span>
  <span class=s1>'email'</span> <span class=o>=&gt;</span> <span class=s1>'testRetry@nomail.net'</span><span class=p>,</span>
  <span class=s1>'type'</span> <span class=o>=&gt;</span> <span class=s1>'personal'</span><span class=p>,</span>
  <span class=s1>'address1'</span> <span class=o>=&gt;</span> <span class=s1>'99-99 33rd St'</span><span class=p>,</span>
  <span class=s1>'city'</span> <span class=o>=&gt;</span> <span class=s1>'Some City'</span><span class=p>,</span>
  <span class=s1>'state'</span> <span class=o>=&gt;</span> <span class=s1>'NY'</span><span class=p>,</span>
  <span class=s1>'postalCode'</span> <span class=o>=&gt;</span> <span class=s1>'11101'</span><span class=p>,</span>
  <span class=s1>'dateOfBirth'</span> <span class=o>=&gt;</span> <span class=s1>'1970-01-01'</span><span class=p>,</span>

  <span class=c1># For the first attempt, only the
</span>  <span class=c1># last 4 digits of SSN required
</span>
  <span class=c1># If the entire SSN is provided,
</span>  <span class=c1># it will still be accepted
</span>  <span class=s1>'ssn'</span> <span class=o>=&gt;</span> <span class=s1>'1234'</span>
<span class=p>]);</span>

<span class=nv>$customer</span><span class=p>;</span> <span class=c1># =&gt; "https://api-uat.dwolla.com/customers/AB443D36-3757-44C1-A1B4-29727FB3111C"
</span><span class=cp>?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-ruby data-lang=ruby><span class=n>request_body</span> <span class=o>=</span> <span class=p>{</span>
  <span class=ss>:firstName</span> <span class=o>=&gt;</span> <span class=s1>'retry'</span><span class=p>,</span>
  <span class=ss>:lastName</span> <span class=o>=&gt;</span> <span class=s1>'Doe'</span><span class=p>,</span>
  <span class=ss>:email</span> <span class=o>=&gt;</span> <span class=s1>'testRetry@nomail.net'</span><span class=p>,</span>
  <span class=ss>:type</span> <span class=o>=&gt;</span> <span class=s1>'personal'</span><span class=p>,</span>
  <span class=ss>:address1</span> <span class=o>=&gt;</span> <span class=s1>'99-99 33rd St'</span><span class=p>,</span>
  <span class=ss>:city</span> <span class=o>=&gt;</span> <span class=s1>'Some City'</span><span class=p>,</span>
  <span class=ss>:state</span> <span class=o>=&gt;</span> <span class=s1>'NY'</span><span class=p>,</span>
  <span class=ss>:postalCode</span> <span class=o>=&gt;</span> <span class=s1>'11101'</span><span class=p>,</span>
  <span class=ss>:dateOfBirth</span> <span class=o>=&gt;</span> <span class=s1>'1970-01-01'</span><span class=p>,</span>

  <span class=c1># For the first attempt, only the</span>
  <span class=c1># last 4 digits of SSN required</span>

  <span class=c1># If the entire SSN is provided,</span>
  <span class=c1># it will still be accepted</span>

  <span class=ss>:ssn</span> <span class=o>=&gt;</span> <span class=s1>'1234'</span>
<span class=p>}</span>

<span class=c1># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class=n>customer</span> <span class=o>=</span> <span class=n>app_token</span><span class=p>.</span><span class=nf>post</span> <span class=s2>"customers"</span><span class=p>,</span> <span class=n>request_body</span>
<span class=n>customer</span><span class=p>.</span><span class=nf>headers</span><span class=p>[</span><span class=ss>:location</span><span class=p>]</span> <span class=c1># =&gt; "https://api-uat.dwolla.com/customers/AB443D36-3757-44C1-A1B4-29727FB3111C"</span>

<span class=c1># Using DwollaSwagger - https://github.com/Dwolla/dwolla-swagger-ruby</span>
<span class=n>customer</span> <span class=o>=</span> <span class=no>DwollaSwagger</span><span class=o>::</span><span class=no>CustomersApi</span><span class=p>.</span><span class=nf>create</span><span class=p>(</span><span class=ss>:body</span> <span class=o>=&gt;</span> <span class=n>request_body</span><span class=p>)</span>
<span class=n>customer</span> <span class=c1># =&gt; "https://api-uat.dwolla.com/customers/AB443D36-3757-44C1-A1B4-29727FB3111C"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-python data-lang=python><span class=n>request_body</span> <span class=o>=</span> <span class=p>{</span>
  <span class=s>'firstName'</span><span class=p>:</span> <span class=s>'retry'</span><span class=p>,</span>
  <span class=s>'lastName'</span><span class=p>:</span> <span class=s>'Doe'</span><span class=p>,</span>
  <span class=s>'email'</span><span class=p>:</span> <span class=s>'testRetry@nomail.net'</span><span class=p>,</span>
  <span class=s>'type'</span><span class=p>:</span> <span class=s>'personal'</span><span class=p>,</span>
  <span class=s>'address1'</span><span class=p>:</span> <span class=s>'99-99 33rd St'</span><span class=p>,</span>
  <span class=s>'city'</span><span class=p>:</span> <span class=s>'Some City'</span><span class=p>,</span>
  <span class=s>'state'</span><span class=p>:</span> <span class=s>'NY'</span><span class=p>,</span>
  <span class=s>'postalCode'</span><span class=p>:</span> <span class=s>'11101'</span><span class=p>,</span>
  <span class=s>'dateOfBirth'</span><span class=p>:</span> <span class=s>'1970-01-01'</span><span class=p>,</span>
  <span class=c># For the first attempt, only the</span>
  <span class=c># last 4 digits of SSN required</span>
  <span class=c># If the entire SSN is provided,</span>
  <span class=c># it will still be accepted</span>
  <span class=s>'ssn'</span><span class=p>:</span> <span class=s>'1234'</span>
<span class=p>}</span>

<span class=c># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class=n>customer</span> <span class=o>=</span> <span class=n>app_token</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=s>'customers'</span><span class=p>,</span> <span class=n>request_body</span><span class=p>)</span>
<span class=n>customer</span><span class=o>.</span><span class=n>headers</span><span class=p>[</span><span class=s>'location'</span><span class=p>]</span> <span class=c># =&gt; 'https://api-uat.dwolla.com/customers/AB443D36-3757-44C1-A1B4-29727FB3111C'</span>

<span class=c># Using dwollaswagger - https://github.com/Dwolla/dwolla-swagger-python</span>
<span class=n>customers_api</span> <span class=o>=</span> <span class=n>dwollaswagger</span><span class=o>.</span><span class=n>CustomersApi</span><span class=p>(</span><span class=n>client</span><span class=p>)</span>
<span class=n>customer</span> <span class=o>=</span> <span class=n>customers_api</span><span class=o>.</span><span class=n>create</span><span class=p>(</span><span class=n>body</span> <span class=o>=</span> <span class=n>request_body</span><span class=p>)</span>
<span class=n>customer</span> <span class=c># =&gt; 'https://api-uat.dwolla.com/customers/AB443D36-3757-44C1-A1B4-29727FB3111C'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class=code-snippet__selector><nav><button class=selector_switch id=raw>raw</button> <button class=selector_switch id=php>php</button> <button class=selector_switch id=ruby>ruby</button> <button class=selector_switch id=python>python</button> <button class=selector_switch id=javascript>javascript</button></nav></div><div class="code-snippet__cnt highlight"><pre><code class=language-javascript data-lang=javascript><span class=kd>var</span> <span class=nx>requestBody</span> <span class=o>=</span> <span class=p>{</span>
  <span class=na>firstName</span><span class=p>:</span> <span class=s1>'retry'</span><span class=p>,</span>
  <span class=na>lastName</span><span class=p>:</span> <span class=s1>'Doe'</span><span class=p>,</span>
  <span class=na>email</span><span class=p>:</span> <span class=s1>'testRetry@nomail.net'</span><span class=p>,</span>
  <span class=na>type</span><span class=p>:</span> <span class=s1>'personal'</span><span class=p>,</span>
  <span class=na>address1</span><span class=p>:</span> <span class=s1>'99-99 33rd St'</span><span class=p>,</span>
  <span class=na>city</span><span class=p>:</span> <span class=s1>'Some City'</span><span class=p>,</span>
  <span class=na>state</span><span class=p>:</span> <span class=s1>'NY'</span><span class=p>,</span>
  <span class=na>postalCode</span><span class=p>:</span> <span class=s1>'11101'</span><span class=p>,</span>
  <span class=na>dateOfBirth</span><span class=p>:</span> <span class=s1>'1970-01-01'</span><span class=p>,</span>
  <span class=c1>// For the first attempt, only the</span>
  <span class=c1>// last 4 digits of SSN required</span>
  <span class=c1>// If the entire SSN is provided,</span>
  <span class=c1>// it will still be accepted</span>
  <span class=na>ssn</span><span class=p>:</span> <span class=s1>'1234'</span>
<span class=p>};</span>

<span class=nx>appToken</span>
  <span class=p>.</span><span class=nx>post</span><span class=p>(</span><span class=s1>'customers'</span><span class=p>,</span> <span class=nx>requestBody</span><span class=p>)</span>
  <span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=nx>res</span> <span class=o>=&gt;</span> <span class=nx>res</span><span class=p>.</span><span class=nx>headers</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>'location'</span><span class=p>));</span> <span class=c1>// =&gt; 'https://api-uat.dwolla.com/customers/FC451A7A-AE30-4404-AB95-E3553FCD733F'</span>
</code></pre></div></div><hr><footer><div class=page-wrap><nav><h6>Products</h6><a href=https://www.dwolla.com/access-api>Access API</a> <a href=https://www.dwolla.com/transfer>Transfer</a></nav><nav><h6>Features</h6><a href=https://www.dwolla.com/bank-transfers>Bank Transfers</a> <a href=https://www.dwolla.com/mass-payments-api>Mass Payments</a> <a href=https://www.dwolla.com/same-day-ach>Same Day ACH</a> <a href=https://www.dwolla.com/white-label>White Label</a> <a href=https://www.dwolla.com/ach-transfer-dashboard>Dashboard & Admin</a> <a href=https://www.dwolla.com/dwollajs-bank-verification>Instant Bank Account Verification</a></nav><nav><h6>Account</h6><a href=https://accounts.dwolla.com/interest>Sign up</a> <a href=https://www.dwolla.com/login>Log in</a> <a href=http://help.dwolla.com>Support</a> <a href=https://www.dwolla.com/security>Security</a> <a href="https://www.dwolla.com/legal/privacy/">Privacy</a> <a href="https://www.dwolla.com/legal/tos/">Legal</a></nav><nav><h6>Case Studies</h6><a href="https://www.dwolla.com/updates/case-study-delivery-platform-leverages-dwolla-ach-api-for-payouts/">On-Demand Payouts</a> <a href="https://www.dwolla.com/updates/case-study-instagram-ad-platform-leverages-dwolla-api-for-payouts/">Ad Platform</a> <a href="https://www.dwolla.com/updates/dwolla-case-study-featuring-goat-for-ach-payouts/">Marketplace Payouts</a> <a href="https://www.dwolla.com/updates/kill-bill-adds-dwolla-to-offer-subscription-billing-with-ach-payments/">Subscription Billing</a> <a href="https://www.dwolla.com/updates/case-study-how-a-leading-rental-management-platform-used-an-ach-api/">Rental Collection</a> <a href="https://www.dwolla.com/updates/case-study-how-sweep-uses-dwolla-ach-api-for-bank-transfers/">Savings Tool</a> <a href="https://www.dwolla.com/updates/solar-investing-platform-uses-dwolla-api-to-power-bank-transfers/">Investment Platform</a> <a href="https://www.dwolla.com/updates/case-study-clear-capital-streamlines-disbursements-with-dwolla/">B2B Disbursements</a></nav><nav><h6>Learn more</h6><a href=https://www.dwolla.com/about>About us</a> <a href=https://www.dwolla.com/contact>Let's talk</a> <a href=https://developers.dwolla.com>Developer Docs</a> <a href=https://www.dwolla.com/updates>Updates</a> <a href=https://www.dwolla.com/press>Press</a> <a href=https://www.dwolla.com/careers>Careers</a></nav></div></footer><section class=disclaimer><div class=page-wrap><h5>Financial institutions play an important role in the Dwolla network.</h5><p>Dwolla, Inc. is an agent of Veridian Credit Union and Compass Bank and all funds associated with your account in the Dwolla network are held in pooled accounts at Veridian Credit Union and Compass Bank. These funds are not eligible for individual insurance, including FDIC insurance and may not be eligible for share insurance by the National Credit Union Share Insurance Fund. Dwolla, Inc. is the operator of a software platform that communicates user instructions for funds transfers to Veridian Credit Union and Compass Bank.</p></div></section><section class=copyright><div class=page-wrap><div><span>© 2016 Dwolla, Inc.</span> <a href="https://www.dwolla.com/legal/about-our-financial-institution-partner/">Dwolla, Inc. is an agent of its Financial Institution Partner(s)</a></div></div></section></section></div></div></div><script src=//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js></script><script>window.jQuery || document.write('<script src="/_bower_components/jquery/jquery.min.js"><\/script>')</script><script src=/js/script.9508.js></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
  function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
  e=o.createElement(i);r=o.getElementsByTagName(i)[0];
  e.src='//www.google-analytics.com/analytics.js';
  r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
  ga('create','UA-30404064-1');ga('send','pageview');</script></body></html>